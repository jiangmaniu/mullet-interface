"use strict";(self.webpackChunkmt_admin=self.webpackChunkmt_admin||[]).push([[405],{11497:function(aa,vt,U){U.r(vt),U.d(vt,{default:function(){return ta}});var je=U(84851),i=U(67294),ye=U(97070),Le=U(90986),At=U(9783),Bt=U.n(At),zt=U(97857),me=U.n(zt),Rt=U(5574),H=U.n(Rt),He=U(88433),t=U(32188),Et=U(93967),q=U.n(Et),Oe=U(97961),et=U(20937),ke=U(76690),We=U(89872),Zt=U(15009),be=U.n(Zt),Dt=U(99289),ze=U.n(Dt),tt=U(84567),st=U(15867),pt=U(31199),ft=U(96486),g=U(83615),e=U(85893);function Fe(s){var p=(0,t.useIntl)(),r=s.textAlign,o=s.name,j=s.form,l=s.label,b=s.rootClassName,I=s.unit,u=s.direction,v=u===void 0?"row":u,d=s.step,A=d===void 0?1:d,m=s.onChange,f=s.value,S=s.max,w=s.min,L=w===void 0?0:w,N=s.tips,M=s.disabled,X=s.className,B=s.classNames,R=s.height,Y=R===void 0?38:R,Q=s.precision,E=Q===void 0?2:Q,x=s.onAdd,K=s.onMinus,W=s.placeholder,Z=W===void 0?p.formatMessage({id:"common.pleaseInput2"}):W,n=(0,i.useState)(""),a=H()(n,2),G=a[0],k=a[1],ne=(0,i.useState)(!1),P=H()(ne,2),F=P[0],T=P[1],$=Number(G||0),ae=v==="column";(0,i.useEffect)(function(){m?k(f||""):_(f)},[f]),(0,i.useEffect)(function(){if(o){var c;j==null||(c=j.setFieldValue)===null||c===void 0||c.call(j,o,G===0||G?Number(G):"")}},[G]);var h=function(){if(!(M||S&&$>=Number(S)))if(x)x();else{var J=$+A;_(J),m==null||m(J)}},C=function(){if(!($<=0||M||L&&$<=Number(L)))if(K)K();else{var J=$-A;_(J),m==null||m(J)}},_=function(J){k(J&&(0,g.FH)(J,E))},z=(0,e.jsx)("div",{className:q()("flex h-full w-[43px] cursor-pointer select-none items-center justify-center rounded-r-lg border-l border-primary text-xl text-gray-weak",ae&&"!rounded-r-[0px] border-b border-l-0",{"!cursor-not-allowed !text-gray-weak/50":M||S&&$>=S},B==null?void 0:B.add),onClick:(0,ft.debounce)(h,100),children:"+"}),ee=(0,e.jsx)("div",{className:q()("relative flex h-full w-[43px] cursor-pointer select-none items-center justify-center rounded-l-lg border-r border-primary text-xl text-gray-weak",ae&&"border-none",{"!cursor-not-allowed !text-gray-weak/50":L&&$<=L||M},B==null?void 0:B.minus),onClick:(0,ft.debounce)(C,100),children:"-"}),D=(0,He.l)(function(c){var J=c.token;return{".ant-input-number-disabled":{background:"#f8f8f8 !important"},input:{height:Y,textAlign:r||"center"},".ant-input-number-group-addon":{background:"#fff !important",border:"none !important"},".ant-input-number-input-wrap input::placeholder":{fontSize:"14px !important"},".ant-input-number-group .ant-input-number:hover":{border:"none !important"}}});return(0,e.jsxs)("div",{className:q()("relative w-full",b,D),children:[l&&(0,e.jsx)("div",{className:q()("text-sx pb-[4px] text-left font-normal text-gray-weak",B==null?void 0:B.label),children:l}),(0,e.jsxs)("div",{className:q()("relative z-20 flex h-[40px] items-center justify-between overflow-hidden rounded-lg border border-primary bg-white",X),style:{height:Y},children:[v==="row"&&ee,(0,e.jsx)(pt.Z,{placeholder:Z,className:q()("h-full w-full flex-1 px-4 text-center text-sm font-bold text-gray placeholder:text-gray-secondary disabled:bg-gray-50/60",B==null?void 0:B.input,M&&"cursor-not-allowed"),onChange:function(J){if(m)m(J);else{if(S&&J>S){_(S);return}_(J)}},name:o,disabled:M,filedConfig:{style:{marginBottom:0,flex:1,lineHeight:"".concat(Y,"px")},className:M?"bg-sub-disable cursor-not-allowed":""},fieldProps:{controls:!1,maxLength:12,autoFocus:!1,max:S,min:L,value:G,onFocus:function(){return T(!0)},onBlur:function(){return T(!1)},autoComplete:"off",addonAfter:I&&(0,e.jsx)("span",{className:"text-xs font-normal text-gray-weak",children:I}),styles:{border:"none",input:{height:Y}},className:"custom-inputnumber ".concat(B==null?void 0:B.input),classNames:{input:B==null?void 0:B.input,wrapper:"flex items-center justify-between px-[10px]"}}}),v==="row"&&z,ae&&(0,e.jsx)("div",{className:"flex h-full items-center",children:(0,e.jsxs)("div",{className:"flex h-full flex-col items-center justify-center border-l border-primary",children:[z,ee]})})]}),F&&N&&(0,e.jsx)("div",{className:q()("absolute top-[35px] z-10 flex w-full items-end justify-center rounded-b-lg border border-primary bg-gray-50 px-1 py-2 text-center text-xs text-gray-weak",B==null?void 0:B.tips),children:N})]})}var De=U(83229),qe=U(30297),at=U(27218),re=U(18542),Be=U(97200);function Ot(s){var p=s.children,r=s.isActive,o=s.bgColor,j=s.width,l=j===void 0?"134px":j,b=s.height,I=b===void 0?"52px":b,u=(0,ke.k)(),v=u.isPc,d=(0,e.jsx)("svg",{width:"134px",height:"52px",viewBox:"0 0 134 52",children:(0,e.jsx)("g",{id:"buy",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",children:(0,e.jsx)("path",{d:"M8.49174935,0 L126,0 C130.418278,-8.11624501e-16 134,3.581722 134,8 L134,44 C134,48.418278 130.418278,52 126,52 L18.3731149,52 C14.7703581,52 11.6120739,49.5917959 10.6584517,46.1175391 L0.777086155,10.1175391 C-0.392398385,5.85684824 2.11351944,1.45482134 6.37421028,0.285336802 C7.06412267,0.0959680096 7.77631966,-7.56756117e-16 8.49174935,0 Z",fill:r?o||"#45A48A":Be.zM})})});return(0,e.jsxs)("div",{className:"relative flex items-center",children:[(0,e.jsx)("div",{className:"relative left-[11px] z-30 h-[52px] w-[134px] rounded-lg",style:{background:v?"":r?o||"#45A48A":Be.zM,width:l},children:p}),(0,e.jsx)("div",{className:"absolute left-0 top-0",children:d})]})}function Ut(s){var p=s.children,r=s.isActive,o=s.bgColor,j=s.width,l=j===void 0?"134px":j,b=s.height,I=b===void 0?"52px":b,u=(0,ke.k)(),v=u.isPc,d=u.isMobileOrIpad,A=(0,e.jsx)("svg",{width:"134px",height:"52px",viewBox:"0 0 134 52",children:(0,e.jsx)("g",{id:"sell",stroke:"none",strokeWidth:"1",fillRule:"evenodd",children:(0,e.jsx)("path",{d:"M10.4917494,0 L128,0 C132.418278,-8.11624501e-16 136,3.581722 136,8 L136,44 C136,48.418278 132.418278,52 128,52 L20.3731149,52 C16.7703581,52 13.6120739,49.5917959 12.6584517,46.1175391 L2.77708615,10.1175391 C1.60760162,5.85684824 4.11351944,1.45482134 8.37421028,0.285336802 C9.06412267,0.0959680096 9.77631966,-7.56756117e-16 10.4917494,0 Z",fill:r?o||"var(--color-red-600)":Be.zM,transform:"translate(68.000000, 26.000000) scale(-1, -1) translate(-68.000000, -26.000000) "})})});return(0,e.jsxs)("div",{className:"relative flex items-center",children:[(0,e.jsx)("div",{className:q()("relative right-[11px] z-30 h-[52px] w-[134px] rounded-lg",{"rounded-br-none border-b border-l border-t border-[rgba(197,71,71,0.2)]":d&&r}),style:{background:v?"":r?o||"var(--color-red-600)":Be.zM,width:l},children:p}),(0,e.jsx)("div",{className:"absolute right-0 top-0",children:A})]})}var nt=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=s.type,o=s.activeKey,j=s.onChange,l=s.sellBgColor,b=s.onBuy,I=s.onSell,u=(0,i.useState)(1),v=H()(u,2),d=v[0],A=v[1],m=r==="footer",f=d===1?"text-white":"text-gray",S=m||d===2?"text-white":"text-gray",w=(0,We.Jr)(),L=w.lng,N=(0,ke.k)(),M=N.breakPoint,X=(0,i.useState)(0),B=H()(X,2),R=B[0],Y=B[1],Q=(0,De.Z)();return(0,i.useEffect)(function(){var E;m&&(E={xs:"32vw",sm:"40vw",md:"42vw",lg:"45vw"}[M]),r==="popup"&&(E={xs:"41vw",sm:"45vw",md:"46vw",lg:"47vw"}[M]),Y(E)},[M,r]),(0,i.useEffect)(function(){A(o||1)},[o]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"relative flex cursor-pointer flex-col items-center py-[5px]",onClick:function(){I?I():(j==null||j(2),A(2))},children:(0,e.jsx)(Ut,{isActive:m||d===2,width:R,bgColor:l,children:(0,e.jsxs)("div",{className:q()("flex h-full flex-col items-center justify-center xl:pt-1 left-6"),children:[(0,e.jsx)("div",{className:q()("select-none font-normal max-xl:text-base xl:text-xs",S),children:(0,e.jsx)(t.FormattedMessage,{id:"mt.maichuzuokong"})}),(0,e.jsx)("div",{className:q()("font-dingpro-medium text-base max-xl:hidden",S),children:(0,g.ao)(Q.bid)})]})})}),!!Q.spread&&(0,e.jsx)("div",{className:"absolute left-[50%] top-[50%] z-[90] min-w-[30px] translate-x-[-50%] translate-y-[-50%] rounded-[6px] bg-white px-[6px] py-[3px] text-center text-xs text-gray",children:Q.spread}),(0,e.jsx)("div",{className:"relative flex cursor-pointer flex-col items-center py-[5px]",onClick:function(){b?b():(A(1),j==null||j(1))},children:(0,e.jsx)(Ot,{isActive:m||d===1,width:R,children:(0,e.jsxs)("div",{className:q()("flex h-full flex-col items-center justify-center xl:pt-1 right-6"),children:[(0,e.jsx)("div",{className:q()("select-none font-normal max-xl:text-base xl:text-xs",f),children:(0,e.jsx)(t.FormattedMessage,{id:"mt.mairuzuoduo"})}),(0,e.jsx)("div",{className:q()("font-dingpro-medium text-base max-xl:hidden",f),children:(0,g.ao)(Q.ask)})]})})})]})})),$t=U(49677),Ht=U.n($t),Vt=U(71338);function ht(s){var p=Object.assign({},(Ht()(s),s));return(0,e.jsx)(Vt.Z,me()({max:100,min:0,step:1,marks:{0:"0%",25:"25%",50:"50%",75:"75%",100:"100%"},tooltip:{placement:"bottom",formatter:function(o){return"".concat(o,"%")}}},p))}function Yt(s){var p=s.initialValue,r=s.onChange,o=(0,t.useIntl)(),j=(0,i.useState)(0),l=H()(j,2),b=l[0],I=l[1],u=(0,De.Z)(),v=u.prepaymentConf,d=(v==null?void 0:v.mode)==="fixed_margin";return(0,i.useEffect)(function(){I(p)},[p]),(0,e.jsxs)("div",{children:[(0,e.jsx)(Fe,{placeholder:o.formatMessage({id:"mt.gangganbeishu"}),rootClassName:"!z-50 mt-3",classNames:{input:"text-center"},value:b,onChange:function(m){I(m),r==null||r(m)},max:30,min:0,unit:d?void 0:(0,e.jsx)("span",{className:"relative left-3 text-gray-220 text-base",children:"x"}),disabled:d}),(0,e.jsx)("div",{className:"flex flex-col pt-1 mx-3",children:(0,e.jsx)("div",{children:(0,e.jsx)(ht,{value:b,min:0,max:30,marks:{0:"0x",6:"6x",10:"10x",20:"20x",30:"30x"},tooltip:{placement:"bottom",formatter:function(m){return"".concat(m,"x")}},onChange:function(m){I(m),r==null||r(m)},disabled:d})})})]})}var ot=(0,je.Pi)(Yt),Wt=U(13769),Qe=U.n(Wt),gt=U(64317),Gt=["fieldProps","onChange"];function dt(s){var p=s.fieldProps,r=s.onChange,o=Qe()(s,Gt),j=(0,ye.mZ)(),l=j.trade,b=(0,He.l)(function(I){var u=I.token;return{".ant-select-selection-item":{textAlign:"center"},".prefix-icon":{position:"absolute",left:12,top:"50%",transform:"translateY(-50%)",zIndex:1}}});return(0,e.jsxs)("div",{className:q()("mb-3 relative",b),children:[(0,e.jsx)("div",{className:"prefix-icon",children:(0,e.jsx)("img",{src:"/img/cangweixuanze.png",width:24,height:24})}),(0,e.jsx)(gt.Z,me()({fieldProps:me()({size:"large",defaultValue:"CROSS_MARGIN",suffixIcon:(0,e.jsx)("img",{src:"/img/arrow-right-icon.png",width:24,height:24}),onChange:function(u){r==null||r(u),l.setMarginType(u)}},p),allowClear:!1,options:[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.quancang"}),value:"CROSS_MARGIN"},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhucang"}),value:"ISOLATED_MARGIN"}]},o))]})}var Kt=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=s.popupRef,o=s.type,j=s.orderType,l=(0,t.useIntl)(),b=(0,ke.k)(),I=b.isPc,u=b.isMobileOrIpad,v=(0,ye.mZ)(),d=v.trade,A=v.ws,m=(0,i.useState)(!1),f=H()(m,2),S=f[0],w=f[1],L=(0,i.useState)(!0),N=H()(L,2),M=N[0],X=N[1],B=(0,i.useState)(0),R=H()(B,2),Y=R[0],Q=R[1],E=(0,i.useState)("CROSS_MARGIN"),x=H()(E,2),K=x[0],W=x[1],Z=(0,i.useState)(Re),n=H()(Z,2),a=n[0],G=n[1];(0,i.useEffect)(function(){G(o||Re)},[o]),(0,i.useImperativeHandle)(p,function(){return{tradeType:a,setTradeType:G}});var k=(0,i.useState)(0),ne=H()(k,2),P=ne[0],F=ne[1],T=(0,i.useState)(.01),$=H()(T,2),ae=$[0],h=$[1],C=(0,i.useState)(0),_=H()(C,2),z=_[0],ee=_[1],D=(0,i.useState)(0),c=H()(D,2),J=c[0],V=c[1],de=a===Re,he=(0,at.WZ)(),xe=(0,De.Z)(),y=xe.currentSymbol,pe=xe.currentQuote,fe=xe.symbol,Ce=xe.bid,ce=xe.ask,te=y==null?void 0:y.digits,Se=(y==null?void 0:y.stopl)*Math.pow(10,-te),Ve=(y==null?void 0:y.vmax)/1e4,we=(y==null?void 0:y.vmin)/1e4,ge=Math.pow(10,-te);(0,i.useEffect)(function(){V(0),ee(0),h(.01),F(0)},[fe,a,j]);var ue=Number(J),le=Number(z),ve=Number(ae),se=Number(P),Te,Ie,$e,Ne,ie;pe&&y&&(de?(ie=(pe.bid-Se).toFixed(te),Te=se?(se-Se).toFixed(te):0,Ie=se?(se+Se).toFixed(te):0,$e=se&&ue?((ue-se)*ve*y.consize).toFixed(te):0,Ne=se&&le?((le-se)*ve*y.consize).toFixed(te):0):(ie=(pe.ask+Se).toFixed(te),Te=se?(se+Se).toFixed(te):0,Ie=se?(se-Se).toFixed(te):0,$e=se&&ue?((se-ue)*ve*y.consize).toFixed(te):0,Ne=se&&le?((se-le)*ve*y.consize).toFixed(te):0));var Ke=function(){var oe=ze()(be()().mark(function O(){var Ze,Ye,Ae,Je;return be()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(he){Me.next=3;break}return(0,qe.ni)(),Me.abrupt("return");case 3:return Ye={symbol:fe,buySell:de?re.Y0.BUY:re.Y0.SELL,orderVolume:ve,stopLoss:ue?parseFloat(ue):void 0,takeProfit:le?parseFloat(le):void 0,leverageMultiple:Y,tradeAccountId:(Ze=d.currentAccountInfo)===null||Ze===void 0?void 0:Ze.id,marginType:K,limitPrice:P,type:de?re.Jm.LIMIT_BUY_ORDER:re.Jm.LIMIT_SELL_ORDER},console.log("\u53C2\u6570",Ye),Me.next=7,d.createOrder(Ye);case 7:if(Ae=Me.sent,Ae.success){Me.next=10;break}return Me.abrupt("return");case 10:F(""),h(.01),ee(""),V(""),u&&(r==null||(Je=r.current)===null||Je===void 0||Je.close());case 15:case"end":return Me.stop()}},O)}));return function(){return oe.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:"mx-[10px] mt-3 flex flex-col justify-between h-[620px]",children:[(0,e.jsxs)("div",{children:[M&&(0,e.jsx)(dt,{onChange:function(O){W(O)}}),(0,e.jsx)("div",{className:"relative flex items-center justify-center rounded-xl border border-primary p-[2px]",children:(0,e.jsx)(nt,{activeKey:a,onChange:function(O){G(O)},type:"popup"})}),(0,e.jsx)(ot,{onChange:function(O){console.log("value",O),Q(O)}}),(0,e.jsx)(Fe,{placeholder:l.formatMessage({id:"mt.shurujiage"}),rootClassName:"!z-50 my-3",classNames:{input:"text-center"},value:P,onChange:function(O){F(O)},onAdd:function(){if(se&&se>=0){var O=((se+ge)*100/100).toFixed(te);F(O)}else F(ie)},onMinus:function(){if(se&&se>0){var O=((se-ge)*100/100).toFixed(te);F(O)}else F(ie)},tips:(0,e.jsxs)("span",{className:"font-num",children:[de&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.mairujiafanwei"})," \u2264 ",(0,g.ao)(ie)," USD"]}),!de&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.mairujiafanwei"})," \u2265 ",(0,g.ao)(ie)," USD"]})]})}),M&&(0,e.jsx)(tt.Z,{onChange:function(O){w(O.target.checked)},className:"max-xl:hidden !mb-3",children:(0,e.jsx)("span",{className:"text-gray text-xs",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})})}),(M&&S||!M)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fe,{placeholder:l.formatMessage({id:"mt.zhiying"}),rootClassName:"!z-40 mb-3",classNames:{input:"text-center"},value:z,onChange:function(O){ee(O)},onAdd:function(){if(le&&le>.01){var O=((le+ge)*100/100).toFixed(te);ee(O)}else ee(Ie)},onMinus:function(){if(le&&le>.01){var O=((le-ge)*100/100).toFixed(te);ee(O)}else ee(Ie)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0",de?"\u2265":"\u2264","\xA0",(0,g.ao)(Ie)," USD"]}),(0,e.jsxs)("span",{className:"pl-1 font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0",(0,g.ao)(Ne)," USD"]})]})}),(0,e.jsx)(Fe,{placeholder:l.formatMessage({id:"mt.zhisun"}),rootClassName:"!z-30",classNames:{input:"text-center"},value:J,onChange:function(O){V(O)},onAdd:function(){if(ue&&ue>.01){var O=((ue+ge)*100/100).toFixed(te);V(O)}else V(Te)},onMinus:function(){if(ue&&ue>.01){var O=((ue-ge)*100/100).toFixed(te);V(O)}else V(Te)},tips:(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"})," ",de?"\u2264":"\u2265"," ",(0,g.ao)(Te)," USD"," ",(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"})," ",(0,g.ao)($e)," USD"]})})]}),(0,e.jsx)(Fe,{direction:"column",classNames:{input:"!text-lg !pl-[5px]",minus:"-top-[2px]",tips:"!top-[70px]"},height:52,textAlign:"left",rootClassName:"mt-[14px]",label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"}),unit:l.formatMessage({id:"mt.lot"}),value:ae,onChange:function(O){h(O)},onAdd:function(){if(ve&&(de?ve<Ve:ve<=5)){var O=((ve+.01)*100/100).toFixed(2);h(O)}},onMinus:function(){if(ve&&(de?ve>we:ve>.01)){var O=((ve-.01)*100/100).toFixed(2);h(O)}},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushufanwei"}),(0,e.jsxs)("span",{className:"pl-1",children:[we,"-",Ve]})]})})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"mt-1 flex items-center justify-center pb-2 max-xl:mt-6",children:[(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.cankaobaozhengjin"})}),(0,e.jsx)("span",{className:"pl-2 text-xs text-gray",children:"122.12 \xA0USD"})]}),(0,e.jsxs)(st.ZP,{type:"primary",style:{background:de?"var(--color-green-700)":"var(--color-red-600)"},className:"!h-[44px] !rounded-lg !text-[13px]",block:!0,onClick:Ke,children:[de?(0,e.jsx)(t.FormattedMessage,{id:"mt.querenmairu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.querenmairu"})," ",ve," ",(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})]})]})})),ct=U(1414),Jt=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=s.popupRef,o=s.type,j=s.orderType,l=(0,ke.k)(),b=l.isPc,I=l.isMobileOrIpad,u=(0,ye.mZ)(),v=u.trade,d=u.ws,A=ct.Z.useForm(),m=H()(A,1),f=m[0],S=(0,t.useIntl)(),w=(0,i.useState)(!1),L=H()(w,2),N=L[0],M=L[1],X=(0,i.useState)(!0),B=H()(X,2),R=B[0],Y=B[1],Q=(0,i.useState)(""),E=H()(Q,2),x=E[0],K=E[1],W=(0,i.useState)("CROSS_MARGIN"),Z=H()(W,2),n=Z[0],a=Z[1],G=(0,i.useState)(Re),k=H()(G,2),ne=k[0],P=k[1];(0,i.useEffect)(function(){P(o||Re)},[o]),(0,i.useImperativeHandle)(p,function(){return{tradeType:ne,setTradeType:P}});var F=(0,i.useState)(.01),T=H()(F,2),$=T[0],ae=T[1],h=(0,i.useState)(0),C=H()(h,2),_=C[0],z=C[1],ee=(0,i.useState)(0),D=H()(ee,2),c=D[0],J=D[1],V=ne===Re,de=(0,at.WZ)(),he=(0,De.Z)(),xe=he.currentSymbol,y=he.currentQuote,pe=he.symbol,fe=he.bid,Ce=he.ask,ce=xe==null?void 0:xe.digits,te=(xe==null?void 0:xe.stopl)*Math.pow(10,-ce),Se=(xe==null?void 0:xe.vmax)/1e4,Ve=(xe==null?void 0:xe.vmin)/1e4,we=Math.pow(10,-ce);(0,i.useEffect)(function(){J(0),z(0),ae(.01)},[pe,ne,j]);var ge=Number(c),ue=Number(_),le=Number($),ve,se,Te,Ie;y&&xe&&(V?(ve=(y.bid-te).toFixed(ce),se=(y.bid+te).toFixed(ce),Te=ge?((ge-y.bid)*le*xe.consize).toFixed(ce):0,Ie=ue?((ue-y.bid)*le*xe.consize).toFixed(ce):0):(ve=(y.ask+te).toFixed(ce),se=(y.ask-te).toFixed(ce),Te=ge?((y.ask-ge)*le*xe.consize).toFixed(ce):0,Ie=ue?((y.ask-ue)*le*xe.consize).toFixed(ce):0));var $e=function(){var Ne=ze()(be()().mark(function ie(){var Ke,oe,O,Ze;return be()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:if(de){Ae.next=3;break}return(0,qe.ni)(),Ae.abrupt("return");case 3:return oe={symbol:pe,buySell:V?re.Y0.BUY:re.Y0.SELL,orderVolume:le,stopLoss:ge?parseFloat(ge):void 0,takeProfit:ue?parseFloat(ue):void 0,leverageMultiple:x,tradeAccountId:(Ke=v.currentAccountInfo)===null||Ke===void 0?void 0:Ke.id,marginType:n,type:re.Jm.MARKET_ORDER},console.log("\u53C2\u6570",oe),Ae.next=7,v.createOrder(oe);case 7:if(O=Ae.sent,O.success){Ae.next=10;break}return Ae.abrupt("return");case 10:ae(.01),z(""),J(""),I&&(r==null||(Ze=r.current)===null||Ze===void 0||Ze.close());case 14:case"end":return Ae.stop()}},ie)}));return function(){return Ne.apply(this,arguments)}}();return(0,e.jsx)(ct.Z,{form:f,children:(0,e.jsxs)("div",{className:"mx-[10px] mt-3 flex flex-col justify-between h-[620px]",children:[(0,e.jsxs)("div",{children:[R&&(0,e.jsx)(dt,{onChange:function(ie){a(ie)}}),(0,e.jsx)("div",{className:"relative flex items-center justify-center rounded-xl border border-primary p-[2px]",children:(0,e.jsx)(nt,{activeKey:ne,onChange:function(ie){P(ie)},type:"popup"})}),(0,e.jsx)(ot,{onChange:function(ie){console.log("value",ie),K(ie)}}),(0,e.jsx)(Fe,{placeholder:S.formatMessage({id:"mt.yidangqianzuixinjia"}),rootClassName:"!z-50 my-3",classNames:{input:"text-center"},disabled:!0}),R&&(0,e.jsx)(tt.Z,{onChange:function(ie){M(ie.target.checked)},className:"max-xl:hidden !mb-3",children:(0,e.jsx)("span",{className:"text-gray text-xs",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})})}),(R&&N||!R)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fe,{placeholder:S.formatMessage({id:"mt.zhiying"}),rootClassName:"!z-40 mb-3",classNames:{input:"text-center"},value:_,onChange:function(ie){z(ie)},name:"sp",form:f,onAdd:function(){if(ue&&ue>.01){var ie=((ue+we)*100/100).toFixed(ce);z(ie)}else z(se)},onMinus:function(){if(ue&&ue>.01){var ie=((ue-we)*100/100).toFixed(ce);z(ie)}else z(se)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0",V?"\u2265":"\u2264","\xA0",(0,g.ao)(se)," USD"]}),(0,e.jsxs)("span",{className:"pl-1 font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0",(0,g.ao)(Ie)," USD"]})]})}),(0,e.jsx)(Fe,{placeholder:S.formatMessage({id:"mt.zhisun"}),rootClassName:"!z-30 !mb-3",classNames:{input:"text-center"},value:c,onChange:function(ie){J(ie)},onAdd:function(){if(ge&&ge>.01){var ie=((ge+we)*100/100).toFixed(ce);J(ie)}else J(ve)},onMinus:function(){if(ge&&ge>.01){var ie=((ge-we)*100/100).toFixed(ce);J(ie)}else J(ve)},tips:(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0 ",V?"\u2264":"\u2265"," ",(0,g.ao)(ve)," USD ",(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0 ",(0,g.ao)(Te)," USD"]})})]}),(0,e.jsx)(Fe,{direction:"column",classNames:{input:"!text-lg !pl-[5px]",minus:"-top-[2px]",tips:"!top-[70px]"},height:52,textAlign:"left",placeholder:S.formatMessage({id:"mt.shoushu"}),label:S.formatMessage({id:"mt.shoushu"}),unit:S.formatMessage({id:"mt.lot"}),value:$,onChange:function(ie){ae(ie)},onAdd:function(){if(le&&(V?le<Se:le<30)){var ie=((le+.01)*100/100).toFixed(2);ae(ie)}else ae(Se)},onMinus:function(){if(le&&le>.01){var ie=((le-.01)*100/100).toFixed(2);ae(ie)}else ae(.01)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushufanwei"}),(0,e.jsxs)("span",{className:"pl-1",children:[Ve,"-",Se]})]})})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center justify-between max-xl:mt-6",children:[(0,e.jsxs)("div",{className:"mt-1 flex items-center justify-center pb-2",children:[(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.keyong"})}),(0,e.jsx)("span",{className:"pl-2 text-xs text-gray font-medium",children:"12999.12USD"})]}),(0,e.jsxs)("div",{className:"mt-1 flex items-center justify-center pb-1",children:[(0,e.jsx)("span",{className:"text-xs text-gray font-medium",children:"999.12USD"}),(0,e.jsx)("span",{className:"text-xs text-gray-secondary pl-1",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.baozhengjin"})})]})]}),(0,e.jsxs)(st.ZP,{type:"primary",style:{background:V?"var(--color-green-700)":"var(--color-red-600)"},className:"!h-[44px] !rounded-lg !text-[13px]",block:!0,onClick:$e,children:[V?(0,e.jsx)(t.FormattedMessage,{id:"mt.querenmairu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.querenmaichu"})," ",le," ",(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})]})]})})})),Qt=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=s.popupRef,o=s.type,j=s.orderType,l=(0,t.useIntl)(),b=(0,ke.k)(),I=b.isPc,u=b.isMobileOrIpad,v=(0,ye.mZ)(),d=v.trade,A=v.ws,m=(0,i.useState)(!1),f=H()(m,2),S=f[0],w=f[1],L=(0,i.useState)(!0),N=H()(L,2),M=N[0],X=N[1],B=(0,i.useState)(0),R=H()(B,2),Y=R[0],Q=R[1],E=(0,i.useState)("CROSS_MARGIN"),x=H()(E,2),K=x[0],W=x[1],Z=(0,i.useState)(Re),n=H()(Z,2),a=n[0],G=n[1];(0,i.useEffect)(function(){G(o||Re)},[o]),(0,i.useImperativeHandle)(p,function(){return{tradeType:a,setTradeType:G}});var k=(0,i.useState)(0),ne=H()(k,2),P=ne[0],F=ne[1],T=(0,i.useState)(.01),$=H()(T,2),ae=$[0],h=$[1],C=(0,i.useState)(0),_=H()(C,2),z=_[0],ee=_[1],D=(0,i.useState)(0),c=H()(D,2),J=c[0],V=c[1],de=a===Re,he=(0,at.WZ)(),xe=(0,De.Z)(),y=xe.currentSymbol,pe=xe.currentQuote,fe=xe.symbol,Ce=xe.bid,ce=xe.ask,te=y==null?void 0:y.digits,Se=(y==null?void 0:y.stopl)*Math.pow(10,-te),Ve=(y==null?void 0:y.vmax)/1e4,we=(y==null?void 0:y.vmin)/1e4,ge=Math.pow(10,-te);(0,i.useEffect)(function(){V(0),ee(0),h(.01),F(0)},[fe,a,j]);var ue=Number(J),le=Number(z),ve=Number(ae),se=Number(P),Te,Ie,$e,Ne,ie;pe&&y&&(de?(ie=(pe.bid-Se).toFixed(te),Te=se?(se-Se).toFixed(te):0,Ie=se?(se+Se).toFixed(te):0,$e=se&&ue?((ue-se)*ve*y.consize).toFixed(te):0,Ne=se&&le?((le-se)*ve*y.consize).toFixed(te):0):(ie=(pe.ask+Se).toFixed(te),Te=se?(se+Se).toFixed(te):0,Ie=se?(se-Se).toFixed(te):0,$e=se&&ue?((se-ue)*ve*y.consize).toFixed(te):0,Ne=se&&le?((se-le)*ve*y.consize).toFixed(te):0));var Ke=function(){var oe=ze()(be()().mark(function O(){var Ze,Ye,Ae,Je;return be()().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(he){Me.next=3;break}return(0,qe.ni)(),Me.abrupt("return");case 3:return Ye={symbol:fe,buySell:de?re.Y0.BUY:re.Y0.SELL,orderVolume:ve,stopLoss:ue?parseFloat(ue):void 0,takeProfit:le?parseFloat(le):void 0,leverageMultiple:Y,tradeAccountId:(Ze=d.currentAccountInfo)===null||Ze===void 0?void 0:Ze.id,marginType:K,limitPrice:P,type:de?re.Jm.STOP_LOSS_LIMIT_BUY_ORDER:re.Jm.STOP_LOSS_LIMIT_SELL_ORDER},console.log("\u53C2\u6570",Ye),Me.next=7,d.createOrder(Ye);case 7:if(Ae=Me.sent,Ae.success){Me.next=10;break}return Me.abrupt("return");case 10:F(""),h(.01),ee(""),V(""),u&&(r==null||(Je=r.current)===null||Je===void 0||Je.close());case 15:case"end":return Me.stop()}},O)}));return function(){return oe.apply(this,arguments)}}();return(0,e.jsxs)("div",{className:"mx-[10px] mt-3 flex flex-col justify-between h-[620px]",children:[(0,e.jsxs)("div",{children:[M&&(0,e.jsx)(dt,{onChange:function(O){W(O)}}),(0,e.jsx)("div",{className:"relative flex items-center justify-center rounded-xl border border-primary p-[2px]",children:(0,e.jsx)(nt,{activeKey:a,onChange:function(O){G(O)},type:"popup"})}),(0,e.jsx)(ot,{onChange:function(O){console.log("value",O),Q(O)}}),(0,e.jsx)(Fe,{placeholder:l.formatMessage({id:"mt.shurujiage"}),rootClassName:"!z-50 my-3",classNames:{input:"text-center"},value:P,onChange:function(O){F(O)},onAdd:function(){if(se&&se>=0){var O=((se+ge)*100/100).toFixed(te);F(O)}else F(ie)},onMinus:function(){if(se&&se>0){var O=((se-ge)*100/100).toFixed(te);F(O)}else F(ie)},tips:(0,e.jsxs)("span",{className:"font-num",children:[de&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.mairujiafanwei"})," \u2264 ",(0,g.ao)(ie)," USD"]}),!de&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.mairujiafanwei"})," \u2265 ",(0,g.ao)(ie)," USD"]})]})}),M&&(0,e.jsx)(tt.Z,{onChange:function(O){w(O.target.checked)},className:"max-xl:hidden !mb-3",children:(0,e.jsx)("span",{className:"text-gray text-xs",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})})}),(M&&S||!M)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Fe,{placeholder:l.formatMessage({id:"mt.zhiying"}),rootClassName:"!z-40 mb-3",classNames:{input:"text-center"},value:z,onChange:function(O){ee(O)},onAdd:function(){if(le&&le>.01){var O=((le+ge)*100/100).toFixed(te);ee(O)}else ee(Ie)},onMinus:function(){if(le&&le>.01){var O=((le-ge)*100/100).toFixed(te);ee(O)}else ee(Ie)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0",de?"\u2265":"\u2264","\xA0",(0,g.ao)(Ie)," USD"]}),(0,e.jsxs)("span",{className:"pl-1 font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0",(0,g.ao)(Ne)," USD"]})]})}),(0,e.jsx)(Fe,{placeholder:l.formatMessage({id:"mt.zhisun"}),rootClassName:"!z-30",classNames:{input:"text-center"},value:J,onChange:function(O){V(O)},onAdd:function(){if(ue&&ue>.01){var O=((ue+ge)*100/100).toFixed(te);V(O)}else V(Te)},onMinus:function(){if(ue&&ue>.01){var O=((ue-ge)*100/100).toFixed(te);V(O)}else V(Te)},tips:(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"})," ",de?"\u2264":"\u2265"," ",(0,g.ao)(Te)," USD"," ",(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"})," ",(0,g.ao)($e)," USD"]})})]}),(0,e.jsx)(Fe,{direction:"column",classNames:{input:"!text-lg !pl-[5px]",minus:"-top-[2px]",tips:"!top-[70px]"},height:52,textAlign:"left",rootClassName:"mt-[14px]",label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"}),unit:l.formatMessage({id:"mt.lot"}),value:ae,onChange:function(O){h(O)},onAdd:function(){if(ve&&(de?ve<Ve:ve<=5)){var O=((ve+.01)*100/100).toFixed(2);h(O)}},onMinus:function(){if(ve&&(de?ve>we:ve>.01)){var O=((ve-.01)*100/100).toFixed(2);h(O)}},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushufanwei"}),(0,e.jsxs)("span",{className:"pl-1",children:[we,"-",Ve]})]})})]}),(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"mt-1 flex items-center justify-center pb-2 max-xl:mt-6",children:[(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.cankaobaozhengjin"})}),(0,e.jsx)("span",{className:"pl-2 text-xs text-gray",children:"122.12 \xA0USD"})]}),(0,e.jsxs)(st.ZP,{type:"primary",style:{background:de?"var(--color-green-700)":"var(--color-red-600)"},className:"!h-[44px] !rounded-lg !text-[13px]",block:!0,onClick:Ke,children:[de?(0,e.jsx)(t.FormattedMessage,{id:"mt.querenmairu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.querenmairu"})," ",ve," ",(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})]})]})})),Re=1,na=2,ut=1,jt=2,yt=3,bt=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=(0,ke.k)(),o=r.isPc,j=r.isMobileOrIpad,l=(0,We.Jr)(),b=l.lng,I=(0,ye.mZ)(),u=I.trade,v=(0,t.useIntl)(),d=(0,i.useState)(ut),A=H()(d,2),m=A[0],f=A[1],S=(0,i.useState)(Re),w=H()(S,2),L=w[0],N=w[1],M=(0,i.useRef)(),X=[{key:ut,label:v.formatMessage({id:"mt.shijiadan"})},{key:jt,label:v.formatMessage({id:"mt.xianjiadan"})},{key:yt,label:v.formatMessage({id:"mt.tingsundan"})}],B=function(E){M.current.show(),N(E)};(0,i.useImperativeHandle)(p,function(){return me()(me()({},M.current),{},{show:B})});var R=(0,He.l)(function(Q){var E=Q.token;return{"&::after":{content:"''",background:"#EEEEEE",width:1,height:"100%",position:"absolute",left:0,top:0}}}),Y=function(){return(0,e.jsxs)("div",{className:q()(Bt()({"h-[690px] w-[300px] bg-white relative":o},R,o)),children:[(0,e.jsx)(et.Z,{items:X,centered:!0,activeKey:m,tabBarGutter:b==="zh-TW"?50:70,className:"max-xl:pl-3",onChange:function(x){f(x)},size:"small",marginBottom:0}),(0,e.jsx)("div",{style:{display:m===ut?"block":"none"},children:(0,e.jsx)(Jt,{popupRef:M,type:L,orderType:m})}),(0,e.jsx)("div",{style:{display:m===jt?"block":"none"},children:(0,e.jsx)(Kt,{popupRef:M,orderType:m})}),(0,e.jsx)("div",{style:{display:m===yt?"block":"none"},children:(0,e.jsx)(Qt,{popupRef:M,orderType:m})})]})};return(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(e.Fragment,{children:Y()}),wapComponent:(0,e.jsx)(Oe.Z,{headerStyle:{padding:0},contentStyle:{paddingBottom:30},ref:M,title:(0,e.jsxs)("div",{children:[L===Re?v.formatMessage({id:"mt.mairuzuoduo"}):v.formatMessage({id:"mt.maichuzuokong"}),(0,e.jsx)("span",{className:"pl-1",children:u.activeSymbolName})]}),position:"bottom",children:Y()})})})),Xt=U(19632),Nt=U.n(Xt),xt=U(28508);function Ge(s){var p=s.left,r=s.center,o=s.right,j=s.renderItem,l=s.style,b=s.isReverseValueLabelColor,I=(0,ke.k)(),u=I.isMobile,v=I.isIpad,d=function(f,S){return f.renderItem?f.renderItem():(S==="center"&&(f.style=me()({textAlign:"center"},f.style)),S==="right"&&(f.style=me()({textAlign:"right"},f.style)),(0,e.jsxs)(e.Fragment,{children:[f.label&&(0,e.jsx)("span",{className:"text-sub text-sm pt-[3px] truncate w-full",style:me()(me()({color:b?Be.G0:Be.WE,fontSize:u?12:14},f.labelStyle),f.style),children:f.label}),(0,e.jsx)("span",{className:"text-main text-sm pt-[3px] truncate w-full",style:me()(me()({color:b?Be.WE:Be.G0,fontSize:u?12:14},f.valueStyle),f.style),children:f.isFormatValue?(0,g.Bw)(f.value):f.value||"--"})]}))},A=(0,i.useMemo)(function(){if(p&&!r&&!o)return(0,e.jsx)("div",{className:"flex flex-col w-full",style:p.style,children:d(p,"left")});if(!p&&!r&&o)return(0,e.jsx)("div",{className:"flex flex-col items-end w-full",style:o.style,children:d(o,"right")});if(r&&o&&p)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"flex flex-col justify-center w-[33.33%]",style:p.style,children:d(p,"left")}),(0,e.jsx)("div",{className:"flex flex-col items-center justify-center w-[33.33%]",style:r.style,children:d(r,"center")}),(0,e.jsx)("div",{className:"flex flex-col items-end w-[33.33%]",style:o.style,children:d(o,"right")})]});if(!r&&o&&p)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)("div",{className:"flex flex-col justify-center",style:p.style,children:d(p,"left")}),(0,e.jsx)("div",{className:"flex flex-col items-end overflow-hidden",style:o.style,children:d(o,"right")})]})},[p,o,r]);return j?(0,e.jsx)("div",{className:"pt-[10px] flex",style:l,children:j==null?void 0:j()}):(0,e.jsx)("div",{className:"pt-[10px] flex justify-between items-center",style:l,children:A})}var Pe=U(61624),rt=U(42243),ra=null,ia=(0,rt.DB)().quoteList1,la=(0,rt.DB)().quoteList2;function qt(s){var p,r,o=s.trigger,j=s.style,l=(0,i.useRef)(),b=(0,ye.mZ)(),I=b.trade,u=b.ws,v=u,d=v.symbols,A=I.activeSymbolName,m=(0,De.Z)(),f=m==null?void 0:m.symbolConf,S=m==null?void 0:m.prepaymentConf,w=m==null?void 0:m.holdingCostConf,L=m==null?void 0:m.tradeTimeConf,N=(w==null?void 0:w.type)!=="point",M=S==null?void 0:S.mode,X=rt.rC.some(function(E){return E.type===2}),B={data:{sessions:[]}},R=[],Y=[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.heyuedanwei"}),value:f==null?void 0:f.contractSize},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.huobidanwei"}),value:f==null?void 0:f.baseCurrency},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.baojiaxiaoshuwei"}),value:m==null?void 0:m.digits},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.danbijiaoyishoushu"}),value:(0,e.jsxs)(e.Fragment,{children:[(0,g.FH)(f==null?void 0:f.minTrade),(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"}),"-",(0,g.FH)(f==null?void 0:f.maxTrade),(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushuchazhi"}),value:(0,e.jsxs)(e.Fragment,{children:[(0,g.FH)(f==null?void 0:f.tradeStep),(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.geyelixiduodan"}),value:"".concat((0,g.FH)(w==null?void 0:w.buyBag)).concat(N?"%":"")},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.geyelixikongdan"}),value:"".concat((0,g.FH)(w==null?void 0:w.sellBag)).concat(N?"%":"")},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.xianjiahetingsunjuli"}),value:f==null?void 0:f.limitStopLevel}].concat(Nt()(M==="fixed_margin"?[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.chushibaozhengjin"}),value:(0,e.jsxs)(e.Fragment,{children:[((S==null||(p=S.fixed_margin)===null||p===void 0?void 0:p.initial_margin)||0).toFixed(2)," USD/",(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.suocangbaozhengjin"}),value:(0,e.jsxs)(e.Fragment,{children:[((S==null||(r=S.fixed_margin)===null||r===void 0?void 0:r.locked_position_margin)||0).toFixed(2)," USD/",(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})}]:[])),Q=function(){return(0,e.jsxs)("div",{style:me()({background:"var(--card-gradient-bg)"},j),className:"relative h-full px-[37px] max-xl:rounded-t-[16px] xl:py-[26px]",children:[(0,e.jsxs)("div",{className:"absolute left-8 flex w-[92%] justify-between",children:[(0,e.jsx)("div",{style:{backgroundImage:"url(/img/heyue-logo.png)"},className:"relative top-8 h-[92px] w-[328px] bg-cover bg-no-repeat"}),(0,e.jsx)("div",{style:{backgroundImage:"url(/img/future-bg.png)"},className:"h-[180px] w-[227px] bg-cover bg-no-repeat"})]}),(0,e.jsx)("div",{className:"relative top-[47px] z-10",children:(0,e.jsx)("div",{className:"pb-12 text-[24px] font-bold",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.heyueshuxing"})})}),(0,e.jsxs)("div",{className:"mt-7 overflow-x-hidden max-xl:max-h-[60vh] max-xl:overflow-y-auto max-xl:pb-8",children:[(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)("div",{className:"grid gap-y-4 xl:grid-cols-3 xxl:grid-cols-4",children:Y.map(function(x,K){return(0,e.jsxs)("div",{className:"flex flex-col items-start justify-center",children:[(0,e.jsx)("div",{className:"font-dingpro-medium text-lg text-gray",children:x.value}),(0,e.jsx)("div",{className:"pt-[10px] text-xs text-gray-weak",children:x.label})]},K)})}),wapComponent:(0,e.jsx)(e.Fragment,{children:(0,g.vM)(Y,2).map(function(x,K){var W,Z,n,a;return(0,e.jsx)(Ge,{left:{value:(W=x[0])===null||W===void 0?void 0:W.label,label:(Z=x[0])===null||Z===void 0?void 0:Z.value,labelStyle:{fontSize:14,fontWeight:600}},right:x[1]?{value:(n=x[1])===null||n===void 0?void 0:n.label,label:(a=x[1])===null||a===void 0?void 0:a.value,labelStyle:{fontSize:14,fontWeight:600}}:void 0,isReverseValueLabelColor:!0},K)})})}),(L==null?void 0:L.length)>0&&(0,e.jsxs)("div",{className:"pt-14",children:[(0,e.jsxs)("div",{className:"py-4 text-xl font-medium",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.jiaoyishijian"}),(0,e.jsx)("span",{className:"text-base",children:"\uFF08GMT+8\uFF09"})]}),(0,e.jsx)("div",{className:"grid gap-y-4 xl:grid-cols-3 xxl:grid-cols-5",children:L.map(function(x,K){return(0,e.jsxs)("div",{className:"text-sm text-gray-weak",children:[(0,re._3)(x[x.weekDay])," ","".concat((0,Pe.qF)(x.trade))]},K)})})]})]})]})};return(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(e.Fragment,{children:Q()}),wapComponent:(0,e.jsxs)(Oe.Z,{headerStyle:{padding:0},title:(0,e.jsx)(t.FormattedMessage,{id:"mt.heyueshuxing"}),trigger:o,position:"bottom",renderHeader:(0,e.jsx)("div",{className:"relative",children:(0,e.jsx)(xt.Z,{style:{color:"var(--color-text-primary)",background:"rgba(216, 216, 216, .2)"},onClick:function(){l.current.close()},className:"absolute right-3 top-4 z-30 mr-3 rounded-full p-[6px] text-sm"})}),ref:l,children:[(0,e.jsx)("div",{children:Q()}),(0,e.jsx)("div",{className:"fixed bottom-4 h-[60px] w-full bg-white",children:(0,e.jsx)("div",{className:"mx-4",children:(0,e.jsx)(st.ZP,{block:!0,onClick:function(){l.current.close()},style:{height:44},children:(0,e.jsx)(t.FormattedMessage,{id:"common.queren"})})})})]})})}var St=(0,je.Pi)(qt),_t=U(19944),es=U(95025),ts=U(56717),ss=U(43929),as=U(91662),mt=U(91630);function ns(s){var p=s.sidebarRef,r=(0,ye.mZ)(),o=r.ws,j=r.trade,l=j.activeSymbolName,b=(0,i.useState)(!1),I=H()(b,2),u=I[0],v=I[1],d=(0,De.Z)(),A=d.percent>0?"text-green":"text-red",m=(0,i.useRef)();return(0,as.Z)([m],function(){v(!1)}),(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"flex items-center justify-between px-[10px] py-2",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsxs)("div",{className:"w-[300px] flex items-center",children:[(0,e.jsxs)("div",{className:"flex cursor-pointer items-center relative",onClick:function(){v(!0)},ref:m,children:[(0,e.jsx)("img",{src:"/img/menu-icon2.png",height:24,width:24}),(0,e.jsx)("span",{className:"pl-[6px] pr-[5px] text-base font-semibold text-gray",children:l}),(0,e.jsx)("img",{src:"/img/down.png",height:24,width:24,style:{transform:u?"rotate(180deg)":"rotate(0deg)",transition:"all 0.4s ease-in-out"}}),(0,e.jsx)("div",{className:"absolute z-[100] left-0 top-[50px] rounded-b-xl rounded-tr-xl border-x border-b border-[#f3f3f3] bg-white",style:{boxShadow:"0px 2px 10px 10px rgba(227, 227, 227, 0.1)",display:u?"block":"none"},children:(0,e.jsx)(mt.Z,{style:{minWidth:400},showFixSidebar:!1})})]}),(0,e.jsxs)("div",{className:"flex items-center pl-6",children:[(0,e.jsx)("span",{className:q()("font-dingpro-medium text-xl",A),children:(0,g.ao)(d.close)}),!!d.bid&&(0,e.jsx)("span",{className:q()("pl-2 text-base",A),children:d.percent>0?"+".concat(d.percent,"%"):"".concat(d.percent,"%")})]})]}),(0,e.jsxs)("div",{className:"flex items-center pl-12 gap-x-12",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.kai"})}),(0,e.jsx)("span",{className:"pt-1 font-dingpro-medium text-sm text-gray",children:(0,g.ao)(d.open)})]}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.gao"})}),(0,e.jsx)("span",{className:"pt-1 font-dingpro-medium text-xs text-gray",children:(0,g.ao)(d.high)})]}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.di"})}),(0,e.jsx)("span",{className:"pt-1 font-dingpro-medium text-sm text-gray",children:(0,g.ao)(d.low)})]}),(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsx)("span",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.shou"})}),(0,e.jsx)("span",{className:"pt-1 font-dingpro-medium text-sm text-gray",children:(0,g.ao)(d.close)})]})]})]}),(0,e.jsx)("div",{onClick:function(){j.toggleSymbolFavorite()},className:"cursor-pointer",children:(0,e.jsx)("img",{width:32,height:32,alt:"",src:"/img/".concat(j.isFavoriteSymbol?"star-active":"star",".png")})})]})}),wapComponent:(0,e.jsxs)("div",{className:"px-4 py-3",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex cursor-pointer items-center",onClick:function(){var S;p==null||(S=p.current)===null||S===void 0||S.show()},children:[(0,e.jsx)(_t.Z,{className:"mr-3 text-xl"}),(0,e.jsx)("img",{width:26,height:26,alt:"",src:"/img/coin-icon/".concat(l,".png"),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] pr-1 text-base font-semibold text-gray",children:l}),(0,e.jsx)(es.Z,{className:"text-gray-weak"})]}),(0,e.jsx)("div",{className:"flex items-center",onClick:function(){j.toggleSymbolFavorite()},children:(0,e.jsx)("img",{width:34,height:34,alt:"",src:"/img/".concat(j.isFavoriteSymbol?"star-active":"star",".png")})})]}),(0,e.jsxs)("div",{className:"flex items-end justify-between pt-3",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-baseline",children:[(0,e.jsx)("span",{className:q()("text-[26px] font-bold",A),children:d.close}),(0,e.jsxs)("span",{className:q()("pl-2 text-xs font-semibold",A),children:[d.percent>0?"+"+d.percent:d.percent,"%"]})]}),(0,e.jsx)("div",{className:"mt-1 flex",children:(0,e.jsx)(St,{trigger:(0,e.jsxs)("div",{className:"flex cursor-pointer items-center rounded-[4px] bg-primary-secondary/20 px-2 py-1",children:[(0,e.jsx)(ts.Z,{className:"text-primary"}),(0,e.jsx)("span",{className:"px-1 text-xs text-primary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.heyueshuxing"})}),(0,e.jsx)(ss.Z,{className:"text-primary"})]})})})]}),(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)("div",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.kai"})}),(0,e.jsx)("div",{className:"pl-2 text-xs text-gray-weak",children:d.open})]}),(0,e.jsxs)("div",{className:"flex pt-1",children:[(0,e.jsx)("div",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.shou"})}),(0,e.jsx)("div",{className:"pl-2 text-xs text-gray-weak",children:d.close})]})]}),(0,e.jsxs)("div",{className:"flex flex-col pl-3",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsxs)("div",{className:"text-xs text-gray-weak",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.gao"})," "]}),(0,e.jsx)("div",{className:"pl-2 text-xs text-gray-weak",children:d.high})]}),(0,e.jsxs)("div",{className:"flex pt-1",children:[(0,e.jsx)("div",{className:"text-xs text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.di"})}),(0,e.jsx)("div",{className:"pl-2 text-xs text-gray-weak",children:d.low})]})]})]})]})]})})}var Ft=(0,je.Pi)(ns),rs=U(55375),is=U(57953),ls=function(p){var r=p.style,o=(0,ke.k)(),j=o.isPc,l=(0,We.Jr)(),b=l.lng,I=(0,i.useState)(""),u=H()(I,2),v=u[0],d=u[1],A=(0,ye.mZ)(),m=A.trade,f=(0,i.useState)(!1),S=H()(f,2),w=S[0],L=S[1],N=m.activeSymbolName,M=m.getActiveSymbolInfo(),X=M==null?void 0:M.dataSourceCode,B=M==null?void 0:M.dataSourceSymbol;return(0,i.useEffect)(function(){L(!0),d("".concat(rs.ns.tradingViewUrl,"/?lang=").concat((0,re.Xu)(),"&name=").concat(B,"&dataSourceCode=").concat(X))},[b,N,X]),(0,e.jsx)("div",{style:r,children:(0,e.jsx)(is.Z,{spinning:w,size:"large",children:(0,e.jsx)("iframe",{src:v,style:{border:"none",height:j?"591px":"calc(100vh - 260px)",width:"100%",visibility:w?"hidden":"visible"},onLoad:function(){setTimeout(function(){L(!1)},300)}})})})},Ct=(0,je.Pi)(ls),os=function(){var p=(0,i.useState)(1),r=H()(p,2),o=r[0],j=r[1],l=[{key:1,label:(0,e.jsx)(t.FormattedMessage,{id:"mt.chart"})},{key:2,label:(0,e.jsx)(t.FormattedMessage,{id:"mt.heyueshuxing"})}];return(0,e.jsxs)("div",{className:"flex h-[690px] flex-1 flex-col bg-white pb-1",children:[(0,e.jsx)(et.Z,{items:l,onChange:function(I){j(I)},tabBarGutter:44,tabBarStyle:{paddingLeft:26},size:"small",marginBottom:0}),(0,e.jsx)(Ft,{}),(0,e.jsx)(Ct,{style:{display:o===1?"block":"none"}}),(0,e.jsx)(St,{style:{display:o===2?"block":"none"}})]})},ds=(0,je.Pi)(os),cs=U(97005);function us(){var s=(0,ye.mZ)(),p=s.ws,r=s.trade;return(0,e.jsxs)("div",{className:"fixed bottom-0 left-0 flex h-[26px] w-full items-center bg-white px-5 pb-2 pt-2 shadow-[10px_10px_10px_10px_rgba(227,227,227,.4)] z-40",children:[(0,e.jsx)("div",{className:"flex h-full flex-1 items-center overflow-x-auto",children:(0,e.jsx)(cs.Z,{pauseOnHover:!0,speed:30,gradient:!0,children:r.symbolList.map(function(o,j){var l=(0,De.Z)(o.symbol),b=l.percent,I=l.bid;return(0,e.jsx)("div",{className:"h-full border-r border-r-gray-200 px-4",children:(0,e.jsxs)("div",{className:"flex cursor-pointer items-center",onClick:function(){r.setOpenSymbolNameList(o.symbol)},children:[(0,e.jsx)("div",{className:"text-wrap text-xs font-medium text-gray",children:o.symbol}),(0,e.jsx)("div",{className:q()("px-[3px] text-xs font-medium",b>0?"text-green":"text-red"),children:l.bid?b>0?"+".concat(b,"%"):"".concat(b,"%"):"--"}),(0,e.jsx)("div",{className:"px-[3px] text-xs font-medium text-gray-weak",children:I})]})},j)})})}),(0,e.jsx)("div",{className:"flex items-center pl-3",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{src:"/img/download-icon.png",width:22,height:22,alt:""}),(0,e.jsx)("span",{className:"text-xs font-normal text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.xiazai"})})]})}),(0,e.jsxs)("div",{className:"flex cursor-pointer items-center pl-3 ",onClick:qe.Bd,children:[(0,e.jsx)("img",{src:"/img/kefu-icon.png",width:22,height:22,alt:""}),(0,e.jsx)("span",{className:"text-xs font-normal text-gray-weak",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zaixiankefu"})})]})]})}var xs=(0,je.Pi)(us),Ue=U(53292),ms=U(5914),vs=["children","open","onClose","trigger"],Xe=(0,i.forwardRef)(function(s,p){var r=s.children,o=s.open,j=s.onClose,l=s.trigger,b=Qe()(s,vs),I=(0,i.useState)(!1),u=H()(I,2),v=u[0],d=u[1],A=function(){d(!1),j==null||j()},m=function(){d(!0)};(0,i.useEffect)(function(){d(o)},[o]),(0,i.useImperativeHandle)(p,function(){return{close:A,show:m,open:v}});var f=(0,i.useMemo)(function(){return l?i.cloneElement(l,me()(me()({key:"trigger"},l.props),{},{onClick:function(){var S=ze()(be()().mark(function L(N){var M,X;return be()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:d(!v),(M=l.props)===null||M===void 0||(X=M.onClick)===null||X===void 0||X.call(M,N);case 2:case"end":return R.stop()}},L)}));function w(L){return S.apply(this,arguments)}return w}()})):null},[d,l,v]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(ms.Z,me()(me()({destroyOnClose:!0,open:v,onCancel:A},b),{},{children:r})),f]})}),ps=(0,je.Pi)(function(s,p){var r=(0,ye.mZ)(),o=r.trade,j=(0,ke.k)(),l=j.isPc,b=(0,We.Jr)(),I=b.lng,u=function(){o.showBalanceEmptyModal=!1},v=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"relative -top-9 flex flex-col items-center justify-center px-4",children:[(0,e.jsx)("div",{className:"text-lg font-bold text-gray",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zijinbuzu"})}),(0,e.jsx)("div",{className:"pt-5 text-sm text-gray",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.nidezijinbuzuqingrujin"})})]}),(0,e.jsx)("div",{className:"relative -top-4 mx-5",onClick:function(){u()},children:(0,e.jsx)(Ue.ZP,{block:!0,onClick:u,type:"primary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.qurujin"})})})]})},d=(0,e.jsx)("div",{className:"flex flex-col items-center justify-center bg-no-repeat pt-3",style:{backgroundImage:"url(/img/header-bg-mask.png)",backgroundSize:"300px auto"},children:(0,e.jsx)("img",{src:"/img/yuebuzu.png",width:121,height:121,alt:""})});return(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(Xe,{open:o.showBalanceEmptyModal,styles:{header:{background:"var(--card-gradient-header-bg)",height:150},content:{padding:0}},title:d,footer:null,width:I==="zh-TW"?430:440,centered:!0,onClose:u,children:v()}),wapComponent:(0,e.jsx)(Oe.Z,{open:o.showBalanceEmptyModal,renderHeader:(0,e.jsxs)("div",{style:{background:"var(--card-gradient-header-bg)",height:150,borderRadius:16},children:[(0,e.jsx)(xt.Z,{style:{color:"var(--color-text-primary)",background:"rgba(216, 216, 216, .2)"},onClick:u,className:"absolute right-3 top-4 mr-3 rounded-full p-[6px] text-sm"}),d]}),contentStyle:{paddingBottom:30},position:"bottom",onClose:u,children:v()})})}),it=U(71230),Ee=U(15746),Mt=(0,je.Pi)(function(s,p){var r=(0,We.Jr)(),o=r.lng,j=(0,ye.mZ)(),l=j.ws,b=l,I=b.openTips,u=(l==null?void 0:l.openData)||{},v=(0,ke.k)(),d=v.isPc,A="USD",m=function(){l.openTips=!1,l.openData={}},f=u.type===re.xy.MARKET_BUY||u.type===re.xy.MARKET_SELL,S=u.type===re.xy.MARKET_BUY||u.type===re.xy.LIMIT_BUY||u.type===re.xy.STOP_LIMIT_BUY,w=!!u.closed,L=u.sbl,N=u.digits,M={label:w?(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcangshoushu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangshoushu"}),value:"".concat(u.vol/1e4," ").concat((0,e.jsx)(t.FormattedMessage,{id:"mt.lot"}))},X={label:w?(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcangjiage"}):f?(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangjiage"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanjiage"}),value:"".concat((0,g.FH)(u.price,N)," ").concat(A)},B={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiying"}),value:"".concat(u.tp," ").concat(A)},R={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhisun"}),value:"".concat((0,g.FH)(u.sl,N)," ").concat(A)},Y={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shouxufei"}),value:"".concat(u.fee||"0.00"," ").concat(A)},Q={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.geyelixi"}),value:"".concat((0,g.FH)(u.storage,N)," ").concat(A)},E={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.chicangdanhao"}),value:"#".concat(u.order)},x={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.baozhengjin"}),value:1212},K=w?Q:x,W=w?[Y]:[],Z=[[M,X],[B,R],[].concat(W,[K]).filter(function(P){return P})],n=[M,B,X].concat(W,[R,K]),a=d?Z:n,G=w?(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcangchenggong"}):f?(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangchenggong"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanchenggong"}),k=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"relative -top-9 flex flex-col items-center justify-center px-4",children:[(0,e.jsx)("div",{className:"text-lg font-bold text-gray",children:G}),w&&(0,e.jsxs)("div",{className:"flex w-full items-center justify-between px-8 pt-3",children:[(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:24,height:24,alt:"",src:(0,Pe.dC)(u==null?void 0:u.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:L}),(0,e.jsxs)("span",{className:q()("pl-1 text-sm",S?"text-green":"text-red"),children:["\xB7 ",S?(0,e.jsx)(t.FormattedMessage,{id:"mt.mairu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.maichu"})," \xB7"," ",(0,e.jsx)(t.FormattedMessage,{id:"mt.zhucang"})]})]}),(0,e.jsxs)("div",{className:"flex pt-2",children:[(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.chicangdanhao"})}),(0,e.jsxs)("span",{className:"pl-2 text-xs text-gray",children:["#",u.order]})]})]}),(0,e.jsxs)("div",{className:"flex flex-col items-end",children:[(0,e.jsxs)("span",{className:q()("font-bol pb-2 text-lg",u.profit>0?"text-green":"text-red"),children:[(0,g.FH)(u.profit)," ",A]}),(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.yingkui"})})]})]}),!w&&(0,e.jsxs)("div",{className:"flex items-center py-3",children:[(0,e.jsx)("img",{width:24,height:24,alt:"",src:"/img/coin-icon/".concat(L,".png"),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:L}),(0,e.jsxs)("span",{className:q()("pl-1 text-sm",S?"text-green":"text-red"),children:["\xB7 ",S?(0,e.jsx)(t.FormattedMessage,{id:"mt.mairu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.maichu"})," \xB7 ",(0,e.jsx)(t.FormattedMessage,{id:"mt.zhucang"}),"20X"]})]}),(0,e.jsx)("div",{className:"my-4 w-full border border-dashed border-gray-250/70"}),(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(e.Fragment,{children:a.map(function(F,T){var $,ae,h,C;return(0,e.jsxs)(it.Z,{className:"w-full px-8 pb-4",children:[(0,e.jsx)(Ee.Z,{span:10,children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"pr-5 text-sm text-gray-secondary",children:F==null||($=F[0])===null||$===void 0?void 0:$.label}),(0,e.jsx)("span",{className:"text-sm text-gray",children:F==null||(ae=F[0])===null||ae===void 0?void 0:ae.value})]})}),(0,e.jsx)(Ee.Z,{push:4,span:10,children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"pr-5 text-sm text-gray-secondary",children:F==null||(h=F[1])===null||h===void 0?void 0:h.label}),(0,e.jsx)("span",{className:"text-sm text-gray",children:F==null||(C=F[1])===null||C===void 0?void 0:C.value})]})})]},T)})}),wapComponent:(0,e.jsx)("div",{className:"w-full px-4",children:(0,g.vM)(a,3).map(function(F,T){var $,ae,h,C,_,z;return(0,e.jsx)(Ge,{left:{value:F==null||($=F[0])===null||$===void 0?void 0:$.label,label:F==null||(ae=F[0])===null||ae===void 0?void 0:ae.value},center:{value:F==null||(h=F[1])===null||h===void 0?void 0:h.label,label:F==null||(C=F[1])===null||C===void 0?void 0:C.value},right:{value:F==null||(_=F[2])===null||_===void 0?void 0:_.label,label:F==null||(z=F[2])===null||z===void 0?void 0:z.value},isReverseValueLabelColor:!0},T)})})})]}),(0,e.jsx)("div",{className:"relative -top-4 mx-5",children:(0,e.jsx)(Ue.ZP,{block:!0,onClick:m,type:"primary",children:(0,e.jsx)(t.FormattedMessage,{id:"common.queren"})})})]})},ne=(0,e.jsx)("div",{className:"flex flex-col items-center justify-center bg-no-repeat pt-3",style:{backgroundImage:"url(/img/header-bg-mask.png)",backgroundSize:"300px auto"},children:(0,e.jsx)("img",{src:w?"/img/pingcang-icon.png":"/img/penging-success.png",width:121,height:121,alt:""})});return I?(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(Xe,{open:I,styles:{header:{background:"var(--card-gradient-header-bg)",height:150},content:{padding:0}},title:ne,footer:null,width:o==="zh-TW"?520:580,centered:!0,onClose:m,children:k()}),wapComponent:(0,e.jsx)(Oe.Z,{open:I,renderHeader:(0,e.jsxs)("div",{style:{background:"var(--card-gradient-header-bg)",height:150,borderRadius:16},children:[(0,e.jsx)(xt.Z,{style:{color:"var(--color-text-primary)",background:"rgba(216, 216, 216, .2)"},onClick:m,className:"absolute right-3 top-4 mr-3 rounded-full p-[6px] text-sm"}),ne]}),contentStyle:{paddingBottom:30},position:"bottom",onClose:m,children:k()})}):null}),fs=U(83832),hs=U(35053),lt=U(36239);function gs(s){var p,r=s.style,o=s.showActiveSymbol,j=(0,ke.k)(),l=j.isPc,b=(0,ye.mZ)(),I=b.ws,u=b.trade,v=(0,i.useState)([]),d=H()(v,2),A=d[0],m=d[1],f=u.activeSymbolName,S=(0,i.useState)(!1),w=H()(S,2),L=w[0],N=w[1],M="USD",X=(0,i.useState)("close"),B=H()(X,2),R=B[0],Y=B[1],Q=u.historyList;(0,i.useEffect)(function(){m(o?Q.filter(function(h){return h.symbol===f}):Q)},[o,f,Q.length]),(0,i.useEffect)(function(){u.getHistoryList()},[(p=u.currentAccountInfo)===null||p===void 0?void 0:p.id]);var E=function(C){return(0,e.jsx)("span",{className:"font-num",children:(0,g.ao)(C)})},x={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.yingkui"}),value:function(C){var _=E(C==null?void 0:C.profit);return Number(C.profit)>0?(0,e.jsxs)(e.Fragment,{children:["+",_]}):_},valueClassName:function(C){return"".concat((C==null?void 0:C.profit)>0?"!text-green":"!text-red"," xl:!text-[16px] max-xl:!text-lg !font-bold")},unit:M,unitClassName:function(C){return"".concat((C==null?void 0:C.profit)>0?"!text-green":"!text-red")}},K={label:R==="close"?(0,e.jsx)(t.FormattedMessage,{id:"mt.chengjiaoshijian"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanshijian"}),value:function(C){return C.createTime}},W={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"}),value:function(C){return(0,g.FH)(C.tradingVolume,C.symbolDecimal)}},Z={label:(0,e.jsx)(t.FormattedMessage,{id:"common.type"}),valueClassName:"!font-bold",value:function(C){return C.type===re.xy.LIMIT_BUY||C.type===re.xy.LIMIT_SELL?(0,e.jsx)(t.FormattedMessage,{id:"mt.xianjiadan"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.shijiadan"})}},n={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.dingdanhao"}),value:function(C){return"".concat(C.orderId)}},a={label:R==="close"?(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcangjia"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanjia"}),value:function(C){return E((0,g.FH)(C.tradePrice,C.symbolDecimal))},unit:M},G={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangjia"}),value:function(C){return E((0,g.FH)(C==null?void 0:C.startPrice,C.symbolDecimal))},unit:M},k={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shouxufei"}),value:function(C){return(0,g.FH)(C.handlingFees,C.symbolDecimal)},unit:M},ne=[Z,n,G,a,k,W].concat(Nt()(R==="close"?[k,x]:[])),P=[Z,W,n,G,a,k,K],F=l?ne:P,T=function(C){return(0,e.jsx)("span",{className:"text-xs font-normal text-gray-secondary xl:mr-2",children:C==null?void 0:C.label})},$=function(C,_,z){var ee;return typeof(C==null?void 0:C[_])=="function"?C==null||(ee=C[_])===null||ee===void 0?void 0:ee.call(C,z):C==null?void 0:C[_]},ae=(0,He.l)(function(h){var C=h.token;return{".ant-select-selector,.ant-picker-range":{borderRadius:"16px !important"}}});return(0,e.jsxs)("div",{style:r,children:[(0,e.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,e.jsx)(hs.Z,{items:[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.lishichengjiao"}),key:"close"},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.lishiguadan"}),key:"pending"}],onChange:function(C){Y(C)},activeKey:R}),(0,e.jsx)("div",{className:q()("flex items-center gap-x-3",ae)})]}),(0,e.jsx)("div",{children:A.length>0&&!L&&A.map(function(h,C){var _=(0,Pe.Ld)(h);return(0,e.jsxs)("div",{className:"mb-3 rounded-xl border border-primary",children:[(0,e.jsx)("div",{className:"flex items-center justify-between bg-sub-card/50 px-3 py-[6px]",children:(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:22,height:22,alt:"",src:(0,Pe.dC)(h.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:h.symbol}),(0,e.jsx)("span",{className:q()("pl-[6px] text-sm font-medium",_.colorClassName),children:_.text}),(0,e.jsx)("div",{className:"flex items-center max-xl:hidden",children:(0,e.jsxs)("div",{className:"flex items-center pl-[30px]",children:[(0,e.jsx)("img",{src:"/img/time.png",width:16,height:16,alt:""}),(0,e.jsx)("span",{className:"pl-[6px] text-xs text-gray-secondary",children:(0,g.mr)(h.createTime)})]})})]})}),(0,e.jsx)("div",{className:"px-3 py-3",children:(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)("div",{className:q()("grid gap-y-3 xl:grid-cols-6",R==="close"?"xxl:grid-cols-8":"xxl:grid-cols-6"),children:F.map(function(z,ee){return(0,e.jsxs)("div",{className:q()("xxl:last:text-right",z.className),children:[T(z),(0,e.jsxs)("span",{className:q()("text-xs font-normal text-gray",$(z,"valueClassName",h)),children:[$(z,"value",h),z.unit&&(0,e.jsxs)("span",{className:q()("text-xs text-gray-secondary",$(z,"unitClassName",h)),children:["\xA0",z.unit]})]})]},ee)})}),wapComponent:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:q()("flex flex-col items-start",x.className),children:[(0,e.jsxs)("span",{className:q()("text-xs font-normal text-gray",$(x,"valueClassName",h)),children:[$(x,"value",h),x.unit&&(0,e.jsx)("span",{className:q()("pl-1 text-xs text-gray-secondary",$(x,"unitClassName",h)),children:x.unit})]}),T(x)]}),(0,g.vM)(F,3).map(function(z,ee){return(0,e.jsx)(Ge,{left:{value:$(z==null?void 0:z[0],"value",h),label:T(z[0])},center:z[1]?{value:$(z==null?void 0:z[1],"value",h),label:T(z[1])}:void 0,right:z[2]?{value:$(z==null?void 0:z[2],"value",h),label:T(z[2])}:void 0},ee)})]})})})]},C)})}),A.length===0&&!L&&(0,e.jsx)("div",{className:"mb-6",children:(0,e.jsx)(lt.Z,{})}),L&&(0,e.jsx)(fs.S,{className:"h-[100px]"})]})}var js=(0,je.Pi)(gs),wt=(0,i.forwardRef)(function(s,p){var r=(0,i.useState)({}),o=H()(r,2),j=o[0],l=o[1],b=(0,ye.mZ)(),I=b.ws,u=b.trade,v=(0,i.useRef)(),d=function(){v.current.close()};(0,i.useImperativeHandle)(p,function(){return me()(me()({},v.current),{},{show:function(w){v.current.show(),l(w)}})});var A=function(){var S=ze()(be()().mark(function w(){return be()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:u.cancelOrder({id:j.id}),d();case 2:case"end":return N.stop()}},w)}));return function(){return S.apply(this,arguments)}}(),m=function(){return(0,e.jsxs)("div",{className:"max-xl:px-4",children:[(0,e.jsx)("div",{className:"flex items-center justify-center pb-4",children:(0,e.jsx)("img",{src:"/img/yuebuzu.png",width:75,height:75,alt:""})}),(0,e.jsxs)("div",{className:"flex items-center justify-center pt-2 text-sm font-medium text-gray",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.shifoucexiaogaibidingdan"}),"?"]}),(0,e.jsxs)("div",{className:"flex items-center justify-between pt-6",children:[(0,e.jsx)(Ue.ZP,{className:"!w-[45%]",onClick:d,children:(0,e.jsx)(t.FormattedMessage,{id:"common.cancel"})}),(0,e.jsx)(Ue.ZP,{className:"!w-[45%]",onClick:A,type:"primary",children:(0,e.jsx)(t.FormattedMessage,{id:"common.queren"})})]})]})},f=(0,e.jsx)(t.FormattedMessage,{id:"mt.cexiaoguadan"});return(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(Xe,{title:f,ref:v,footer:null,width:400,centered:!0,children:m()}),wapComponent:(0,e.jsx)(Oe.Z,{title:f,ref:v,contentStyle:{paddingBottom:30},position:"bottom",children:m()})})}),ys=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=s.pendingList,o=r===void 0?[]:r,j=(0,t.useIntl)(),l=(0,i.useState)({}),b=H()(l,2),I=b[0],u=b[1],v=(0,ye.mZ)(),d=v.ws,A=v.trade,m=d,f=m.symbols,S=(0,i.useState)(""),w=H()(S,2),L=w[0],N=w[1],M=(0,i.useState)(!1),X=H()(M,2),B=X[0],R=X[1],Y=(0,i.useState)(!1),Q=H()(Y,2),E=Q[0],x=Q[1],K=(0,i.useState)(""),W=H()(K,2),Z=W[0],n=W[1],a=(0,i.useState)(""),G=H()(a,2),k=G[0],ne=G[1],P=(o==null?void 0:o.find(function(fe){return fe.order===I.order}))||{},F=function(){R(!1),n(""),ne(""),N("")},T=function(Ce){R(!0),u(Ce)};(0,i.useImperativeHandle)(p,function(){return{show:T,close:F}}),(0,i.useEffect)(function(){L||N(P.price),Z||n(P.sl),k||ne(P.tp)},[P.sl,P.tp,P.price]);var $=P.symbol,ae=f[$]||{},h=P.digits,C=Math.pow(10,-h)*10,_=ae?ae.stopl*Math.pow(10,-h)*10:0,z=0,ee=0,D,c,J=P.vol,V=P.type===re.xy.LIMIT_BUY||P.type===re.xy.STOP_LIMIT_BUY;V?(z=(parseFloat(L)-_).toFixed(h),ee=(parseFloat(L)+_).toFixed(h),D=L&&Z?((Z-L)*J*ae.consize).toFixed(h):0,c=L&&k?((k-L)*J*ae.consize).toFixed(h):0):(ee=(parseFloat(L)-_).toFixed(h),z=(parseFloat(L)+_).toFixed(h),D=L&&Z?((L-Z)*J*ae.consize).toFixed(h):0,c=L&&k?((L-k)*J*ae.consize).toFixed(h):0);var de=P.currentPrice,he=0;V?he=P.type===re.xy.LIMIT_BUY?(parseFloat(de)-_).toFixed(h):(parseFloat(de)+_).toFixed(h):he=P.type===re.xy.LIMIT_SELL?(parseFloat(de)+_).toFixed(h):(parseFloat(de)-_).toFixed(h);var xe=function(){var fe=ze()(be()().mark(function Ce(ce){var te,Se;return be()().wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return console.log("values",ce),x(!0),te={orderId:P.id,stopLoss:parseFloat(Z),takeProfit:parseFloat(k),limitPrice:parseFloat(L)},console.log("\u53C2\u6570",te),we.next=6,A.modifyPendingOrder(te);case 6:if(Se=we.sent,x(!1),Se.success){we.next=10;break}return we.abrupt("return");case 10:F();case 11:case"end":return we.stop()}},Ce)}));return function(ce){return fe.apply(this,arguments)}}(),y=function(){return(0,e.jsx)(e.Fragment,{children:(0,e.jsxs)("div",{className:"max-xl:px-4",children:[(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,e.jsxs)("div",{className:"flex w-full flex-col pt-3",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:24,height:24,alt:"",src:(0,Pe.dC)(P.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:$}),(0,e.jsxs)("span",{className:q()("pl-1 text-sm text-green",V?"text-green":"text-red"),children:["\xB7 ",V?(0,e.jsx)(t.FormattedMessage,{id:"mt.mairu"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.maichu"})]})]}),(0,e.jsxs)("div",{className:"flex w-full items-center pt-2",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"pr-3 text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"common.type"})}),(0,e.jsx)("span",{className:"text-sm text-gray",children:P.type===re.xy.LIMIT_BUY||P.type===re.xy.LIMIT_SELL?(0,e.jsx)(t.FormattedMessage,{id:"mt.xianjiaguadan"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.tingsundan"})})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between pl-5",children:[(0,e.jsx)("span",{className:"pr-3 text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanshoushu"})}),(0,e.jsxs)("span",{className:"text-sm text-gray",children:[P.vol,(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})]})]})]}),(0,e.jsxs)("div",{className:"flex w-full flex-col items-center pt-5",children:[(0,e.jsx)(Fe,{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.jiage"}),placeholder:j.formatMessage({id:"mt.shurujiage"}),rootClassName:"!z-40",className:"h-[38px]",classNames:{input:"text-center",tips:"!top-[56px] pt-3"},value:L,onChange:function(ce){N(ce)},onAdd:function(){if(L){var ce=((parseFloat(L)+C)*100/100).toFixed(h);N(ce)}else N(he)},onMinus:function(){if(L){var ce=((parseFloat(L)-C)*100/100).toFixed(h);N(ce)}else N(he)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0",P.type===re.xy.LIMIT_BUY?"\u2264":P.type===re.xy.LIMIT_SELL||P.type===re.xy.STOP_LIMIT_BUY?"\u2265":P.type===re.xy.STOP_LIMIT_SELL?"\u2264":null," ",he]})}),(0,e.jsx)(Fe,{label:j.formatMessage({id:"mt.zhisun"}),placeholder:j.formatMessage({id:"mt.zhisun"}),rootClassName:"!z-30 mt-4",className:"h-[38px]",classNames:{input:"text-center",tips:"!top-[56px] pt-3"},value:Z,onChange:function(ce){n(ce)},onAdd:function(){if(Z&&Z>.01){var ce=((parseFloat(Z)+C)*100/100).toFixed(h);n(ce)}else n(z)},onMinus:function(){if(Z&&Z>.01){var ce=((parseFloat(Z)-C)*100/100).toFixed(h);n(ce)}else n(z)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0",V?"\u2264":"\u2265","\xA0",(0,g.ao)(z)," USD"]}),(0,e.jsxs)("span",{className:"pl-1 font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0",(0,g.ao)(D)," USD"]})]})}),(0,e.jsx)(Fe,{label:j.formatMessage({id:"mt.zhiying"}),placeholder:j.formatMessage({id:"mt.zhiying"}),className:"h-[38px]",rootClassName:"!z-20 mt-4",classNames:{input:"text-center",tips:"!top-[56px] pt-3"},value:k,onChange:function(ce){ne(ce)},onAdd:function(){if(k&&k>.01){var ce=((parseFloat(k)+C)*100/100).toFixed(h);ne(ce)}else ne(ee)},onMinus:function(){if(k&&k>.01){var ce=((parseFloat(k)-C)*100/100).toFixed(h);ne(ce)}else ne(ee)},tips:(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0 ",V?"\u2265":"\u2264"," ",(0,g.ao)(ee)," USD ",(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0 ",(0,g.ao)(c)," USD"]})})]})]}),(0,e.jsx)("div",{className:"flex items-center justify-between pt-4",children:(0,e.jsx)(Ue.ZP,{block:!0,onClick:xe,className:q()({"pointer-events-none !bg-gray-250":!L}),type:"primary",loading:E,children:(0,e.jsx)(t.FormattedMessage,{id:"common.queren"})})})]})})},pe=(0,e.jsx)(t.FormattedMessage,{id:"mt.xiugaiguadan"});if(B)return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(Xe,{title:pe,open:B,onClose:F,footer:null,width:460,centered:!0,children:y()}),wapComponent:(0,e.jsx)(Oe.Z,{title:pe,open:B,onClose:F,contentStyle:{paddingBottom:30},position:"bottom",children:y()})}),(0,e.jsx)(Mt,{})]})}));function bs(s){var p=s.style,r=s.parentPopup,o=s.showActiveSymbol,j=(0,ke.k)(),l=j.isPc,b=(0,ye.mZ)(),I=b.ws,u=b.trade,v=I.quotes,d=I.symbols,A=u.activeSymbolName,m="USD",f=u.pendingList,S=(0,i.useRef)(null),w=(0,i.useRef)(null),L=function(a){return(0,e.jsx)("span",{className:"font-num",children:(0,g.ao)(a)})},N=[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhisun"}),value:function(a){return L((0,g.FH)(a==null?void 0:a.stopLoss,a==null?void 0:a.symbolDecimal))},unit:m},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiying"}),value:function(a){return L((0,g.FH)(a==null?void 0:a.takeProfit,a==null?void 0:a.symbolDecimal))},unit:m}],M={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanshijian"}),value:function(a){return(0,g.mr)(a.createTime)}},X={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanjia"}),value:function(a){return L((0,g.FH)(a==null?void 0:a.limitPrice,a==null?void 0:a.symbolDecimal))}},B={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.dingdanhao"}),value:function(a){return"#".concat(a.id)}},R={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"}),value:function(a){return a.orderVolume}},Y={label:(0,e.jsx)(t.FormattedMessage,{id:"common.type"}),valueClassName:"!font-bold",value:function(a){return a.isLimitOrder?(0,e.jsx)(t.FormattedMessage,{id:"mt.xianjiaguadan"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.tingsundan"})}},Q=[Y,M,B,X].concat(N,[R]),E=[R,Y,B,M],x=l?Q:E,K=function(a){return(0,e.jsx)("span",{className:"text-xs font-normal text-gray-secondary xl:mr-2",children:a==null?void 0:a.label})},W=function(a,G,k){return typeof(a==null?void 0:a[G])=="function"?a==null?void 0:a[G](k):a[G]},Z=function(a){return(0,e.jsxs)("div",{className:"flex items-center max-xl:mt-3 max-xl:justify-between",children:[(0,e.jsx)("div",{className:"mr-2 min-w-[70px] cursor-pointer rounded border-gray-250 px-2 py-[5px] text-center font-normal text-gray max-xl:w-[48%] max-xl:bg-sub-card max-xl:text-sm xl:border xl:text-xs",onClick:function(){var k;r==null||r.close(),(k=S.current)===null||k===void 0||k.show(a)},children:(0,e.jsx)(t.FormattedMessage,{id:"mt.cexiao"})}),(0,e.jsx)("div",{className:"min-w-[70px] cursor-pointer rounded border-gray-250 px-2 py-[5px] text-center font-normal text-gray max-xl:w-[48%] max-xl:bg-sub-card max-xl:text-sm xl:border xl:text-xs",onClick:function(){var k;r==null||r.close(),(k=w.current)===null||k===void 0||k.show(a)},children:(0,e.jsx)(t.FormattedMessage,{id:"mt.xiugai"})})]})};return(0,e.jsxs)("div",{style:p,children:[(0,e.jsx)("div",{children:f.length>0&&f.map(function(n,a){var G=n.symbol,k=n.type===re.Jm.LIMIT_BUY_ORDER||n.type===re.Jm.LIMIT_SELL_ORDER,ne=n.symbolDecimal||2,P=k?v[n.symbol]?(0,g.FH)(v[n.symbol].ask,n.digits):0:v[n.symbol]?(0,g.FH)(v[n.symbol].bid,n.digits):0;n.currentPrice=P,n.orderVolume=(0,g.FH)(n.orderVolume,ne),n.isLimitOrder=k;var F=(0,Pe.Ld)(n);return(0,e.jsxs)("div",{className:"mb-3 rounded-xl border border-primary",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between bg-sub-card/50 px-3 py-[6px]",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:22,height:22,alt:"",src:(0,Pe.dC)(n.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:n.symbol}),(0,e.jsx)("span",{className:q()("pl-[6px] text-sm font-medium",F.colorClassName),children:F.text})]}),(0,e.jsx)("div",{className:"max-xl:hidden",children:Z(n)})]}),(0,e.jsx)("div",{className:"px-3 py-3",children:(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)("div",{className:"grid grid-cols-4 gap-y-3 xxl:grid-cols-7",children:x.map(function(T,$){return(0,e.jsxs)("div",{className:"xxl:last:text-right",children:[K(T),(0,e.jsx)("span",{className:q()("text-xs font-normal text-gray",W(T,"valueClassName",n)),children:W(T,"value",n)})]},$)})}),wapComponent:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex items-center pb-1",children:[K(X),(0,e.jsx)("span",{className:"text-xs text-gray",children:W(X,"value",n)})]}),(0,e.jsxs)("div",{className:"my-2",children:[(0,e.jsx)("span",{className:"bg-gray-ef rounded-l bg-sub-card px-2 py-[2px] text-gray",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})}),(0,e.jsx)("span",{className:"bg-red px-2 py-[2px] text-white",children:W(N[0],"value",n)}),(0,e.jsx)("span",{className:"rounded-r bg-green px-2 py-[2px] text-white",children:W(N[1],"value",n)})]}),(0,g.vM)(x,2).map(function(T,$){return(0,e.jsx)(Ge,{left:T!=null&&T[0]?{value:W(T==null?void 0:T[0],"value",n),label:K(T==null?void 0:T[0])}:void 0,right:T!=null&&T[1]?{value:W(T==null?void 0:T[1],"value",n),label:K(T==null?void 0:T[1])}:void 0},$)}),Z(n)]})})})]},a)})}),f.length===0&&(0,e.jsx)("div",{className:"mb-6",children:(0,e.jsx)(lt.Z,{})}),(0,e.jsx)(wt,{ref:S}),(0,e.jsx)(ys,{ref:w,pendingList:f})]})}var Ns=(0,je.Pi)(bs),Ss=U(64789),Fs=U(3089),Cs=U(83062),_e=U(15370),Ms=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=(0,t.useIntl)(),o=(0,ye.mZ)(),j=o.ws,l=o.global,b=o.trade,I=(0,i.useState)(""),u=H()(I,2),v=u[0],d=u[1],A=(0,i.useState)(!1),m=H()(A,2),f=m[0],S=m[1],w=(0,i.useState)({}),L=H()(w,2),N=L[0],M=L[1],X="USD",B=N.symbol,R=Number(N.orderVolume||0),Y=(0,Pe.Ld)(N);(0,i.useEffect)(function(){d(R)},[R]);var Q=function(){S(!1)},E=function(n){S(!0),M(n)};(0,i.useImperativeHandle)(p,function(){return{show:E,close:Q}});var x=function(){var Z=ze()(be()().mark(function n(){var a,G,k;return be()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(a=/^\d+(\.\d{0,2})?$/,v){P.next=3;break}return P.abrupt("return",_e.y.info(r.formatMessage({id:"common.pleaseInput2"})));case 3:if(a.test(v)){P.next=6;break}return _e.y.info(r.formatMessage({id:"mt.shoushushuruyouwu"})),P.abrupt("return");case 6:if(!(v>R)){P.next=9;break}return _e.y.info(r.formatMessage({id:"mt.shoushushuruyouwu"})),P.abrupt("return");case 9:if(!(v<.01)){P.next=12;break}return _e.y.info(r.formatMessage({id:"mt.zuixiaopingcangshoushuwei0.01shou"})),P.abrupt("return");case 12:return G={symbol:B,buySell:N.buySell===re.Y0.BUY?re.Y0.SELL:re.Y0.BUY,orderVolume:v,tradeAccountId:N.tradeAccountId,bagOrderId:N.id,type:re.Jm.MARKET_ORDER},P.next=15,b.createOrder(G);case 15:if(k=P.sent,k.success){P.next=18;break}return P.abrupt("return");case 18:Q();case 19:case"end":return P.stop()}},n)}));return function(){return Z.apply(this,arguments)}}(),K=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,e.jsxs)("div",{className:"flex w-full items-center justify-between pt-3",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:24,height:24,alt:"",src:(0,Pe.dC)(N.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:B}),(0,e.jsxs)("span",{className:q()("pl-1 text-sm",Y.colorClassName),children:["\xB7 ",Y.text]})]}),(0,e.jsxs)("div",{className:"flex flex-col items-end",children:[(0,e.jsxs)("span",{className:q()("pb-2 text-lg font-bold",Number(N==null?void 0:N.profit)>0?"text-green":"text-red"),children:[N.profitFormat," ",X]}),(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.fudongyingkui"})})]})]}),(0,e.jsx)("div",{className:"absolute left-0 top-[130px] w-full border border-dashed border-gray-250/70"}),(0,e.jsx)("div",{className:"my-4"}),(0,e.jsxs)("div",{className:"flex w-full items-center",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsx)("span",{className:"pr-3 text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangjiage"})}),(0,e.jsxs)("span",{className:"text-sm text-gray",children:[N.startPrice," ",X]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between pl-5",children:[(0,e.jsx)("span",{className:"pr-3 text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcangjiage"})}),(0,e.jsxs)("span",{className:"text-sm text-gray",children:[N.currentPrice,"\xA0",X]})]})]}),(0,e.jsxs)("div",{className:"flex w-full flex-col items-center pt-5",children:[(0,e.jsx)(Fe,{placeholder:r.formatMessage({id:"mt.pingcangshoushu"}),className:"h-[38px]",classNames:{input:"text-center"},value:v,onChange:function(a){a>R||d(a)},onAdd:function(){if(!(v>=R)){var a=(Number(v)+.01).toFixed(2);d(a)}},onMinus:function(){if(!(v<=.01)){var a=(Number(v)-.01).toFixed(2);d(a)}},max:R,min:.01}),(0,e.jsx)("div",{className:"my-2 w-full",children:(0,e.jsx)(ht,{onChange:function(a){console.log("value",a)}})}),(0,e.jsxs)("div",{className:"flex items-center pt-2",children:[(0,e.jsx)("span",{className:"text-xs text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.kepingcangshoushu"})}),(0,e.jsxs)("span",{className:"pl-3 text-xs text-gray",children:[R,(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]})]})]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between gap-4 pt-4 max-xl:pt-8",children:[(0,e.jsx)(Ue.ZP,{className:"!w-[45%]",onClick:Q,children:(0,e.jsx)(t.FormattedMessage,{id:"common.cancel"})}),(0,e.jsx)(Ue.ZP,{className:q()("flex-1",{"pointer-events-none !bg-gray-250":!v}),onClick:x,type:"primary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.quedingpingcang"})})]})]})},W=(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcang"});if(f)return(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(Xe,{title:W,open:f,onClose:Q,footer:null,width:460,centered:!0,children:K()}),wapComponent:(0,e.jsx)(Oe.Z,{title:W,open:f,onClose:Q,contentStyle:{paddingBottom:30},position:"bottom",children:(0,e.jsx)("div",{className:"px-5",children:K()})})})})})),ws=(0,je.Pi)((0,i.forwardRef)(function(s,p){var r=(0,t.useIntl)(),o=(0,i.useState)({}),j=H()(o,2),l=j[0],b=j[1],I=(0,ye.mZ)(),u=I.ws,v=I.trade,d=u,A=d.symbols,m=d.quotes,f=(0,i.useState)(!1),S=H()(f,2),w=S[0],L=S[1],N=(0,i.useState)(!1),M=H()(N,2),X=M[0],B=M[1],R="USD",Y=(0,i.useState)(""),Q=H()(Y,2),E=Q[0],x=Q[1],K=(0,i.useState)(""),W=H()(K,2),Z=W[0],n=W[1],a=(0,Pe.Ld)(l),G=l.buySell===re.Y0.BUY;(0,i.useEffect)(function(){E||x(l.stopLoss),Z||n(l.takeProfit)},[l.stopLoss,l.takeProfit]);var k=function(){L(!1),x(""),n("")},ne=function(pe){L(!0),b(pe)};(0,i.useImperativeHandle)(p,function(){return{show:ne,close:k}});var P=l.symbol,F=(0,De.Z)(P),T=F.consize,$=F.bid,ae=F.ask,h=l.symbolDecimal,C=Math.pow(10,-h)*10,_=l.stopLoss?Number(l.stopLoss||0)*Math.pow(10,-h)*10:0,z=0,ee=0,D,c,J=l.orderVolume,V=Number(l.currentPrice||0);G?(z=(V-_).toFixed(h),ee=(V+_).toFixed(h),D=E?((E-$)*J*T).toFixed(h):0,c=Z?((Z-$)*J*T).toFixed(h):0):(z=(V+_).toFixed(h),ee=(V-_).toFixed(h),D=E?((ae-E)*J*T).toFixed(h):0,c=Z?((ae-Z)*J*T).toFixed(h):0);var de=function(){var y=ze()(be()().mark(function pe(){var fe,Ce;return be()().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return B(!0),fe={bagOrderId:l.id,stopLoss:E?parseFloat(E):void 0,takeProfit:Z?parseFloat(Z):void 0},console.log("\u53C2\u6570",fe),te.next=5,v.modifyStopProfitLoss(fe);case 5:if(Ce=te.sent,B(!1),Ce.success){te.next=9;break}return te.abrupt("return");case 9:k();case 10:case"end":return te.stop()}},pe)}));return function(){return y.apply(this,arguments)}}(),he=function(){return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex flex-col items-center justify-center",children:[(0,e.jsxs)("div",{className:"flex w-full flex-col pt-3",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between max-xl:flex-col max-xl:items-start",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:24,height:24,alt:"",src:(0,Pe.dC)(l.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:P}),(0,e.jsxs)("span",{className:q()("pl-1 text-sm",a.colorClassName),children:["\xB7 ",a.text]})]}),(0,e.jsxs)("div",{className:"flex items-end justify-center flex-col",children:[(0,e.jsxs)("span",{className:"text-sm text-gray",children:[l.orderVolume,(0,e.jsx)(t.FormattedMessage,{id:"mt.lot"})]}),(0,e.jsx)("span",{className:"text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangshoushu"})})]})]}),(0,e.jsx)("div",{className:"absolute left-0 top-[130px] w-full border border-dashed border-gray-250/70 xl:hidden"}),(0,e.jsx)("div",{className:"my-3 xl:hidden"}),(0,e.jsxs)("div",{className:"flex w-full items-center pt-2",children:[(0,e.jsxs)("div",{className:"flex items-center max-xl:pt-2 xl:pl-4",children:[(0,e.jsx)("span",{className:"pr-3 text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.dangqianjiage"})}),(0,e.jsxs)("span",{className:"text-sm text-gray",children:[l.currentPrice," ",R]})]}),(0,e.jsxs)("div",{className:"flex items-center justify-between pl-7",children:[(0,e.jsx)("span",{className:"pr-3 text-sm text-gray-secondary",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanjiage"})}),(0,e.jsxs)("span",{className:"text-sm text-gray",children:[l.startPrice," ",R]})]})]})]}),(0,e.jsxs)("div",{className:"flex w-full flex-col items-center pt-5",children:[(0,e.jsx)(Fe,{label:r.formatMessage({id:"mt.zhisun"}),placeholder:r.formatMessage({id:"mt.zhisun"}),rootClassName:"!z-30",className:"h-[38px]",classNames:{input:"text-center",tips:"!top-[56px] pt-3"},value:E,onChange:function(fe){x(fe)},onAdd:function(){if(E&&E>.01){var fe=((parseFloat(E)+C)*100/100).toFixed(h);x(fe)}else x(z)},onMinus:function(){if(E&&E>.01){var fe=((parseFloat(E)-C)*100/100).toFixed(h);x(fe)}else x(z)},tips:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0",G?"\u2264":"\u2265","\xA0",(0,g.ao)(z)," USD"]}),(0,e.jsxs)("span",{className:"pl-1 font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0",(0,g.ao)(D)," USD"]})]})}),(0,e.jsx)(Fe,{label:r.formatMessage({id:"mt.zhiying"}),placeholder:r.formatMessage({id:"mt.zhiying"}),className:"h-[38px]",rootClassName:"!z-20 mt-4",classNames:{input:"text-center",tips:"!top-[56px] pt-3"},value:Z,onChange:function(fe){n(fe)},onAdd:function(){if(Z&&Z>.01){var fe=((parseFloat(Z)+C)*100/100).toFixed(h);n(fe)}else n(ee)},onMinus:function(){if(Z&&Z>.01){var fe=((parseFloat(Z)-C)*100/100).toFixed(h);n(fe)}else n(ee)},tips:(0,e.jsxs)("span",{className:"font-num",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.fanwei"}),"\xA0 ",G?"\u2265":"\u2264"," ",(0,g.ao)(ee)," USD ",(0,e.jsx)(t.FormattedMessage,{id:"mt.yujiyingkui"}),"\xA0",(0,g.ao)(c)," USD"]})})]})]}),(0,e.jsx)("div",{className:"flex items-center justify-between pt-4",children:(0,e.jsx)(Ue.ZP,{block:!0,onClick:de,type:"primary",loading:X,children:(0,e.jsx)(t.FormattedMessage,{id:"common.queren"})})})]})},xe=(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"});if(w)return(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)(Xe,{open:w,onClose:k,title:xe,footer:null,width:460,centered:!0,children:he()}),wapComponent:(0,e.jsx)(Oe.Z,{open:w,onClose:k,contentStyle:{paddingBottom:30},title:xe,position:"bottom",children:(0,e.jsx)("div",{className:"px-5",children:he()})})})})),Ls=["label","requiredLabel","required","placeholder","fieldProps"];function ks(s){var p=s.label,r=s.requiredLabel,o=r===void 0?!1:r,j=s.required,l=s.placeholder,b=s.fieldProps,I=Qe()(s,Ls),u=(0,We.Jr)(),v=u.lng,d=(0,t.useIntl)(),A=v==="zh-TW",m=d.formatMessage({id:"common.pleaseInput"}),f="".concat(m).concat(A?"":" ").concat(p);return(0,e.jsx)(pt.Z,me()({fieldProps:me()({autoComplete:"off",style:{width:"100%"},size:"large"},b),label:p,placeholder:l||f,rules:[{required:j,message:f}]},I))}var Ps=U(37476),Lt=U(67947),kt=U(35644),Ts=["tabList","tabBarGutter","style","hiddenBottomLine","hiddenTabbarLine","tabPaddingBottom"];function Is(s){var p=s.tabList,r=s.tabBarGutter,o=s.style,j=s.hiddenBottomLine,l=j===void 0?!0:j,b=s.hiddenTabbarLine,I=s.tabPaddingBottom,u=I===void 0?0:I,v=Qe()(s,Ts),d=(0,He.l)(function(A){var m=A.token;return{"&":l?void 0:{position:"relative","&:after":{content:'""',position:"absolute",bottom:0,left:0,height:"1px",width:"100%",backgroundColor:"#E6E6E6"}},".adm-tabs-tab":{paddingBottom:u,margin:0},".adm-tabs-header":{borderBottom:0},".adm-tabs-tab-wrapper":{padding:0},".adm-tabs-tab-line":{borderRadius:"100px 100px 0px 0px",display:b?"none":"block",zIndex:2}}});return(0,e.jsx)(kt.mQ,me()(me()({style:me()({"--active-line-height":"0px","--adm-color-border":"none"},o),stretch:!1,className:d},v),{},{children:p.map(function(A,m){return(0,e.jsx)(kt.mQ.Tab,{style:me()({marginRight:r,paddingBottom:0},A.style),title:A.title},A.key)})}))}var As=["onChangeTab","tabList","tabBarStyle","tabBarExtraContent","hiddenTabbarLine","activeKey","type","tabBarGutter","showMobileTabs","tabPaddingBottom","hiddenBottomLine"];function Bs(s){var p,r=s.onChangeTab,o=s.tabList,j=o===void 0?[]:o,l=s.tabBarStyle,b=s.tabBarExtraContent,I=s.hiddenTabbarLine,u=s.activeKey,v=s.type,d=s.tabBarGutter,A=s.showMobileTabs,m=A===void 0?!1:A,f=s.tabPaddingBottom,S=s.hiddenBottomLine,w=S===void 0?!0:S,L=Qe()(s,As),N=j,M=(0,i.useState)(((p=N[0])===null||p===void 0?void 0:p.key)||""),X=H()(M,2),B=X[0],R=X[1],Y="";if(N.length){var Q=N.find(function(x){return x.key===B})||{};Y=Q.label,N=N.map(function(x){if(x.icon&&typeof x.icon=="string"){var K=B===x.key,W=K?Be.G0:Be.WE,Z=(0,He.l)(function(n){var a=n.token;return{"&:hover svg":{fill:"".concat(Be.G0," !important")},"&:hover span":{color:"".concat(Be.G0," !important")}}});x.tab=(0,e.jsxs)("span",{className:q()("flex justify-center items-center",Z),onClick:function(){m&&E(x.key)},children:[(0,e.jsx)(Lt.Z,{name:x.icon,width:x.iconWidth||26,color:W,height:x.iconHeight||26,hoverColor:Be.G0}),(0,e.jsx)("span",{className:"font-bold pl-1 text-base",style:{color:W},children:x.label})]})}else x.tab=x.tab||x.label;return x})}(0,i.useEffect)(function(){var x;R(u||((x=N[0])===null||x===void 0?void 0:x.key))},[u]);var E=function(K){var W;R(K);var Z=(W=j.find(function(n){return n.key===K}))===null||W===void 0?void 0:W.label;r==null||r(K,Z)};return v==="card"?(0,e.jsx)(e.Fragment,{children:N.length>0&&(0,e.jsx)("div",{className:"flex custom-tabbar-card border-gray-150 border-b",children:N.map(function(x,K){return(0,e.jsxs)("div",{className:q()("min-w-[186px] relative hover:text-gray cursor-pointer border-gray-150 border-l border-t border-r flex items-center justify-center text-base rounded-t-2xl h-[50px] font-semibold",x.key===B?"bg-white !border-b-0 text-gray !z-[50]":"bg-[#F8FBFD] text-gray-secondary"),style:me()({zIndex:N.length-K,left:-16*K},l),onClick:function(){return E(x.key)},children:[x.tab,x.key===B&&(0,e.jsx)("div",{className:"absolute -bottom-[1px] left-0 border-b border-white w-full"})]},K)})})}):(0,e.jsx)(e.Fragment,{children:N.length>0&&(0,e.jsxs)(e.Fragment,{children:[!m&&(0,e.jsx)(et.Z,me()({items:N.map(function(x,K){return{label:(0,e.jsx)(e.Fragment,{children:x.tab}),key:String(x.key)}}),activeKey:B,tabBarStyle:me()({paddingLeft:20,height:50,marginBottom:0},l),onChange:function(K){E(K)},tabBarExtraContent:b,className:q()({"custom-tabbar":I}),hiddenBottomLine:w,tabBarGutter:d},L)),m&&(0,e.jsx)(Is,{tabList:N.map(function(x,K){return{key:x.key,title:x.tab}}),tabBarGutter:d,hiddenBottomLine:w,hiddenTabbarLine:I,tabPaddingBottom:f||18,activeKey:B,style:me()({"--active-line-height":"4px"},l)})]})})}var zs=["children","modalProps","afterClose","onCancel","submitter","hiddenSubmitter","onChangeTab","tabList","tabBarStyle","tabBarExtraContent","hiddenTabbarLine","onFinish","renderTitle","title","subTitle","contentStyle","tabActiveKey","showHeaderBg"];function Rs(s){var p,r,o,j=s.children,l=s.modalProps,b=s.afterClose,I=s.onCancel,u=s.submitter,v=s.hiddenSubmitter,d=s.onChangeTab,A=s.tabList,m=A===void 0?[]:A,f=s.tabBarStyle,S=s.tabBarExtraContent,w=s.hiddenTabbarLine,L=s.onFinish,N=s.renderTitle,M=s.title,X=s.subTitle,B=s.contentStyle,R=s.tabActiveKey,Y=s.showHeaderBg,Q=Qe()(s,zs),E=m,x=(0,i.useState)(((p=E[0])===null||p===void 0?void 0:p.key)||""),K=H()(x,2),W=K[0],Z=K[1],n=(0,i.useState)(((r=E[0])===null||r===void 0?void 0:r.label)||""),a=H()(n,2),G=a[0],k=a[1],ne=ct.Z.useForm(),P=H()(ne,1),F=P[0],T=(0,i.useState)(!1),$=H()(T,2),ae=$[0],h=$[1],C=W===((o=E[E.length-1])===null||o===void 0?void 0:o.key),_=m.length>0;return(0,i.useEffect)(function(){var z;Z(R||((z=E[0])===null||z===void 0?void 0:z.key))},[R]),(0,e.jsx)(Ps.Y,me()(me()({title:(0,e.jsxs)("div",{children:[(0,e.jsxs)("div",{className:"flex items-center pb-3 px-7",children:[!N&&(0,e.jsxs)(e.Fragment,{children:[M&&(0,e.jsx)("span",{className:"text-lg text-black font-semibold",children:M}),X&&(0,e.jsx)("span",{className:"text-sm text-gray pl-[14px]",children:X})]}),N==null?void 0:N()]}),(0,e.jsx)(Bs,{showMobileTabs:!0,tabList:m,activeKey:W,tabBarGutter:56,tabBarStyle:{paddingLeft:28},onChangeTab:function(ee,D){Z(ee),k(D),d==null||d(ee,D)},tabBarExtraContent:S})]}),form:F,width:870,modalProps:me()({destroyOnClose:!0,centered:!0,maskClosable:!1,onCancel:function(){console.log("run"),I==null||I()},afterClose:function(){var ee;Z((ee=E[0])===null||ee===void 0?void 0:ee.key),b==null||b()},wrapClassName:"modal-no-padding",styles:{header:{background:_||Y?"var(--page-container-header-bg)":"#fff",paddingTop:24,paddingLeft:0,paddingRight:0},footer:{paddingTop:5,paddingLeft:28,paddingRight:28}}},l),submitter:v?!1:me()({submitButtonProps:{style:{width:96,height:38}},resetButtonProps:{style:{width:96,height:38}},render:function(ee,D){return[(0,e.jsx)("div",{className:"flex justify-end items-center w-full",children:_?(0,e.jsx)(Ue.k$,{style:{height:38,paddingLeft:28,paddingRight:28},onClick:function(){var J;F==null||(J=F.submit)===null||J===void 0||J.call(F)},loading:ae}):(0,e.jsx)("div",{className:"flex items-center gap-[10px]",children:D})},"footer")]}},u),submitTimeout:2e3,layout:"vertical",onFinish:function(){var z=ze()(be()().mark(function ee(D){var c;return be()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return h(!0),c=!1,V.prev=2,V.next=5,L==null?void 0:L(D);case 5:c=V.sent,V.next=11;break;case 8:V.prev=8,V.t0=V.catch(2),console.log("onFinish error",V.t0);case 11:return V.prev=11,h(!1),V.finish(11);case 14:return V.abrupt("return",c);case 15:case"end":return V.stop()}},ee,null,[[2,8,11,14]])}));return function(ee){return z.apply(this,arguments)}}()},Q),{},{children:(0,e.jsx)("div",{className:"px-7 pb-7",style:me()({paddingTop:_?28:16},B),children:j})}))}var Es=Rs,Pt=U(91877);function Zs(s){var p=s.trigger,r=s.info,o=s.onClose,j=s.type,l=(0,t.useIntl)(),b=(0,ye.mZ)(),I=b.trade,u=j==="AddMargin";return(0,e.jsx)(Es,{title:u?l.formatMessage({id:"mt.zhuijiabaozhengjin"}):l.formatMessage({id:"mt.tiqubaozhengjin"}),trigger:p,width:500,onFinish:function(){var v=ze()(be()().mark(function d(A){var m,f,S,w;return be()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return m=me()(me()({},A),{},{bagOrderId:r.id}),console.log("params",m),f=u?Pt.lZ:Pt.aN,N.next=5,f(m);case 5:return S=N.sent,w=S.success,w&&(I.getPositionList(),_e.y.info(l.formatMessage({id:"common.opSuccess"}))),N.abrupt("return",w);case 9:case"end":return N.stop()}},d)}));return function(d){return v.apply(this,arguments)}}(),onCancel:function(){o==null||o()},afterClose:function(){o==null||o()},children:(0,e.jsx)(ks,{required:!0,name:u?"addMargin":"extractMargin",label:l.formatMessage({id:"mt.baozhengjin"})})})}var Tt=(0,je.Pi)(Zs);function Ds(s){var p=s.style,r=s.parentPopup,o=s.showActiveSymbol,j=(0,ke.k)(),l=j.isPc,b=(0,ye.mZ)(),I=b.ws,u=b.trade,v=(0,We.Jr)(),d=v.lng,A=I.quotes,m=I.symbols,f=d==="zh-TW",S=(0,t.useIntl)(),w=(0,i.useState)({}),L=H()(w,2),N=L[0],M=L[1],X=(0,i.useRef)(null),B=(0,i.useRef)(null),R="USD",Y=u.positionList,Q=u.activeSymbolName,E=o?Y.filter(function(D){return D.symbol===Q}):Y,x=function(c){return(0,e.jsx)("span",{className:"font-dingpro-regular",children:(0,g.ao)(c)})},K=[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhisun"}),value:function(c){return x((0,g.FH)((c==null?void 0:c.stopLoss)||0,c==null?void 0:c.symbolDecimal))},unit:R},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiying"}),value:function(c){return x((0,g.FH)(c==null?void 0:c.takeProfit,c==null?void 0:c.symbolDecimal))},unit:R}],W={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.fudongyingkui"}),value:function(c){var J=x(c==null?void 0:c.profitFormat);return c.profit>0?(0,e.jsxs)(e.Fragment,{children:["+",J]}):J},valueClassName:function(c){return"".concat(Number(c==null?void 0:c.profit)>0?"!text-green":"!text-red"," !text-[16px]")},className:"xxl:text-right",unit:R,unitClassName:function(c){return Number(c==null?void 0:c.profit)>0?"!text-green":"text-red"}},Z={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.jiaoyishijian"}),key:"time",value:function(c){return(0,g.mr)(c==null?void 0:c.createTime)}},n={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"}),value:function(c){return c.orderVolume}},a={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.kaicangjia"}),value:function(c){return x((0,g.FH)(c==null?void 0:c.startPrice,c.symbolDecimal))}},G={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.xianjia"}),value:function(c){return x(c.currentPrice)}},k={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shouxufei"}),value:function(c){return(0,g.FH)(c.handlingFees)||0}},ne={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.chicangdanhao"}),value:function(c){return"".concat(c.id)}},P={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.baozhengjin"}),value:function(c){return(0,e.jsxs)("span",{className:"items-center inline-flex",children:[(0,e.jsx)("span",{className:"pr-2",children:(0,g.FH)(c.orderMargin,c.symbolDecimal)}),c.marginType==="ISOLATED_MARGIN"&&(0,e.jsxs)("span",{children:[(0,e.jsx)(Tt,{trigger:(0,e.jsx)(Ss.Z,{className:"cursor-pointer",onClick:function(){M(c)}}),info:N,onClose:function(){M({})},type:"AddMargin"}),(0,e.jsx)(Tt,{trigger:(0,e.jsx)(Fs.Z,{className:"cursor-pointer ml-3",onClick:function(){M(c)}}),info:N,onClose:function(){M({})},type:"ExtractMargin"})]})]})}},F={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.kucunfei"}),value:function(c){return"".concat(c.interestFees||"-")}},T={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shouyilv"}),value:function(c){return"".concat(c.xx||"-")}},$={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.qiangpingjia"}),value:function(c){return(0,g.FH)(c.stock)}},ae=[a,P,n].concat(K,[$,k,F,T,W]),h=[Z,n,a,P,k,F,$,T,ne],C=l?ae:h,_=function(c){return(0,e.jsx)("span",{className:"pr-1 text-xs font-normal text-gray-secondary",children:c==null?void 0:c.label})},z=function(c,J,V){var de;if((c==null?void 0:c.key)==="time"&&!l){var he=(0,g.mr)(V==null?void 0:V.utime);return(0,e.jsx)(Cs.Z,{placement:"top",title:he,children:(0,e.jsx)("span",{className:"mr-2 text-xs font-normal text-gray-secondary",children:he})})}return typeof(c==null?void 0:c[J])=="function"?c==null||(de=c[J])===null||de===void 0?void 0:de.call(c,V):c==null?void 0:c[J]},ee=function(c){return(0,e.jsxs)("div",{className:"flex items-center max-xl:mt-3 max-xl:justify-between",children:[(0,e.jsx)("div",{className:"mr-2 min-w-[70px] cursor-pointer rounded border-gray-250 px-2 py-[5px] text-center font-normal text-gray max-xl:w-[48%] max-xl:bg-sub-card max-xl:text-sm xl:border xl:text-xs",onClick:function(){var V;r==null||r.close(),(V=X.current)===null||V===void 0||V.show(c)},children:(0,e.jsx)(t.FormattedMessage,{id:"mt.pingcang"})}),(0,e.jsx)("div",{className:"min-w-[70px] cursor-pointer rounded border-gray-250 px-2 py-[5px] text-center font-normal text-gray max-xl:w-[48%] max-xl:bg-sub-card max-xl:text-sm xl:border xl:text-xs",onClick:function(){var V;r==null||r.close(),(V=B.current)===null||V===void 0||V.show(c)},children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})})]})};return(0,e.jsxs)("div",{style:p,children:[E.length>0&&E.map(function(D,c){var J=D.dataSourceSymbol,V=D.symbolDecimal||2,de=D.buySell===re.Y0.BUY?A[J]?(0,g.FH)(A[J].ask,V):0:A[J]?(0,g.FH)(A[J].bid,V):0;D.currentPrice=(0,g.FH)(de,V);var he=(0,rt.JL)(J,D);D.profit=he,D.profitFormat=he>0?"+"+(0,g.FH)(he):(0,g.FH)(he),D.orderVolume=(0,g.FH)(D.orderVolume,V),D.startPrice=(0,g.FH)(D.startPrice,V);var xe=(0,Pe.Ld)(D);return(0,e.jsxs)("div",{className:"mb-3 rounded-xl border border-primary",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between bg-sub-card/50 px-3 py-[6px]",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:22,height:22,alt:"",src:(0,Pe.dC)(D.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:D.symbol}),(0,e.jsx)("span",{className:q()("pl-[6px] text-sm font-medium",xe.colorClassName),children:xe.text}),(0,e.jsxs)("div",{className:"flex items-center max-xl:hidden",children:[(0,e.jsxs)("div",{className:"flex cursor-pointer items-center pl-[30px]",onClick:function(){(0,g.Fp)(D.id,S.formatMessage({id:"mt.fuzhichenggong"}))},children:[(0,e.jsx)("span",{className:"text-xs text-gray-weak",children:"ID"}),(0,e.jsx)("span",{className:"px-[6px] text-xs text-gray-secondary",children:D.id}),(0,e.jsx)("img",{src:"/img/copy-icon.png",width:16,height:16,alt:""})]}),(0,e.jsxs)("div",{className:"flex items-center pl-[30px]",children:[(0,e.jsx)("img",{src:"/img/time.png",width:16,height:16,alt:""}),(0,e.jsx)("span",{className:"pl-[6px] text-xs text-gray-secondary",children:(0,g.mr)(D.createTime)})]})]})]}),(0,e.jsx)("div",{className:"max-xl:hidden",children:ee(D)})]}),(0,e.jsx)("div",{className:"px-3 py-3",children:(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)("div",{className:"grid gap-y-3 xl:grid-cols-6 xxl:grid-cols-10",children:C.map(function(y,pe){return(0,e.jsxs)("div",{className:q()("text-left xxl:first:w-[160px] xxl:first:!text-left xxl:[&:not(:first-child,:last-child)]:pl-6 xxl:[&:nth-child(2)]:pl-0",y.className),children:[_(y),(0,e.jsxs)("span",{className:q()("text-xs font-normal text-gray",z(y,"valueClassName",D)),children:[z(y,"value",D),y.unit&&(0,e.jsxs)("span",{className:q()("text-xs text-gray-secondary",z(y,"unitClassName",D)),children:["\xA0",y.unit]})]})]},pe)})}),wapComponent:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:q()("flex items-center",W.className),children:[_(W),(0,e.jsxs)("span",{className:q()("text-xs font-normal text-gray",z(W,"valueClassName",D)),children:[z(W,"value",D),W.unit&&(0,e.jsxs)("span",{className:q()("text-xs text-gray-secondary",z(W,"unitClassName",D)),children:["\xA0",W.unit]})]})]}),(0,e.jsxs)("div",{className:"my-2",children:[(0,e.jsx)("span",{className:"bg-gray-ef rounded-l bg-sub-card px-2 py-[2px] text-gray",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})}),(0,e.jsx)("span",{className:"bg-red px-2 py-[2px] text-white",children:z(K[0],"value",D)}),(0,e.jsx)("span",{className:"rounded-r bg-green px-2 py-[2px] text-white",children:z(K[1],"value",D)})]}),f&&(0,g.vM)(C,3).map(function(y,pe){return(0,e.jsx)(Ge,{left:{value:z(y==null?void 0:y[0],"value",D),label:_(y==null?void 0:y[0])},center:{value:z(y==null?void 0:y[1],"value",D),label:_(y==null?void 0:y[1])},right:{value:z(y==null?void 0:y[2],"value",D),label:_(y==null?void 0:y[2])}},pe)}),!f&&(0,g.vM)(C,2).map(function(y,pe){return(0,e.jsx)(Ge,{left:{value:z(y==null?void 0:y[0],"value",D),label:_(y==null?void 0:y[0])},right:y!=null&&y[1]?{value:z(y==null?void 0:y[1],"value",D),label:_(y==null?void 0:y[1])}:void 0},pe)}),ee(D)]})})})]},c)}),E.length===0&&(0,e.jsx)("div",{className:"mb-6",children:(0,e.jsx)(lt.Z,{})}),(0,e.jsx)(Ms,{ref:X}),(0,e.jsx)(ws,{ref:B})]})}var Os=(0,je.Pi)(Ds);function Us(s){var p=s.style,r=s.parentPopup,o=s.showActiveSymbol,j=(0,ke.k)(),l=j.isPc,b=(0,ye.mZ)(),I=b.ws,u=b.trade,v=I.quotes,d=I.symbols,A=u.activeSymbolName,m="USD",f=u.stopLossProfitList,S=(0,i.useRef)(null),w=(0,i.useRef)(null),L=function(a){return(0,e.jsx)("span",{className:"font-num",children:(0,g.ao)(a)})},N=[{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhisun"}),value:function(a){return L((0,g.FH)(a==null?void 0:a.stopLoss,a==null?void 0:a.symbolDecimal))},unit:m},{label:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiying"}),value:function(a){return L((0,g.FH)(a==null?void 0:a.takeProfit,a==null?void 0:a.symbolDecimal))},unit:m}],M={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanshijian"}),value:function(a){return(0,g.mr)(a.createTime)}},X={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadanjia"}),value:function(a){return L((0,g.FH)(a==null?void 0:a.limitPrice,a==null?void 0:a.symbolDecimal))}},B={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.dingdanhao"}),value:function(a){return"#".concat(a.id)}},R={label:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"}),value:function(a){return a.orderVolume}},Y={label:(0,e.jsx)(t.FormattedMessage,{id:"common.type"}),valueClassName:"!font-bold",value:function(a){return a.type==="STOP_LOSS_ORDER"?(0,e.jsx)(t.FormattedMessage,{id:"mt.zhisundan"}):(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingdan"})}},Q=[Y,M,B,X,R],E=[R,Y,B,M],x=l?Q:E,K=function(a){return(0,e.jsx)("span",{className:"text-xs font-normal text-gray-secondary xl:mr-2",children:a==null?void 0:a.label})},W=function(a,G,k){return typeof(a==null?void 0:a[G])=="function"?a==null?void 0:a[G](k):a[G]},Z=function(a){return(0,e.jsx)("div",{className:"flex items-center max-xl:mt-3 max-xl:justify-between",children:(0,e.jsx)("div",{className:"min-w-[70px] cursor-pointer rounded border-gray-250 px-2 py-[5px] text-center font-normal text-gray max-xl:w-[48%] max-xl:bg-sub-card max-xl:text-sm xl:border xl:text-xs",onClick:function(){var k;r==null||r.close(),(k=S.current)===null||k===void 0||k.show(a)},children:(0,e.jsx)(t.FormattedMessage,{id:"mt.cexiao"})})})};return(0,e.jsxs)("div",{style:p,children:[(0,e.jsx)("div",{children:f.length>0&&f.map(function(n,a){var G=n.symbol,k=n.type===re.Jm.LIMIT_BUY_ORDER||n.type===re.Jm.LIMIT_SELL_ORDER,ne=n.symbolDecimal||2,P=k?v[n.symbol]?(0,g.FH)(v[n.symbol].ask,n.digits):0:v[n.symbol]?(0,g.FH)(v[n.symbol].bid,n.digits):0;n.currentPrice=P,n.orderVolume=(0,g.FH)(n.orderVolume,ne),n.isLimitOrder=k;var F=(0,Pe.Ld)(n);return(0,e.jsxs)("div",{className:"mb-3 rounded-xl border border-primary",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between bg-sub-card/50 px-3 py-[6px]",children:[(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsx)("img",{width:22,height:22,alt:"",src:(0,Pe.dC)(n.imgUrl),className:"rounded-full"}),(0,e.jsx)("span",{className:"pl-[6px] text-base font-semibold text-gray",children:n.symbol}),(0,e.jsx)("span",{className:q()("pl-[6px] text-sm font-medium",F.colorClassName),children:F.text})]}),(0,e.jsx)("div",{className:"max-xl:hidden",children:Z(n)})]}),(0,e.jsx)("div",{className:"px-3 py-3",children:(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsx)("div",{className:"grid gap-y-3 grid-cols-5",children:x.map(function(T,$){return(0,e.jsxs)("div",{className:"xxl:last:text-right text-left",children:[K(T),(0,e.jsx)("span",{className:q()("text-xs font-normal text-gray",W(T,"valueClassName",n)),children:W(T,"value",n)})]},$)})}),wapComponent:(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)("div",{className:"flex items-center pb-1",children:[K(X),(0,e.jsx)("span",{className:"text-xs text-gray",children:W(X,"value",n)})]}),(0,e.jsxs)("div",{className:"my-2",children:[(0,e.jsx)("span",{className:"bg-gray-ef rounded-l bg-sub-card px-2 py-[2px] text-gray",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})}),(0,e.jsx)("span",{className:"bg-red px-2 py-[2px] text-white",children:W(N[0],"value",n)}),(0,e.jsx)("span",{className:"rounded-r bg-green px-2 py-[2px] text-white",children:W(N[1],"value",n)})]}),(0,g.vM)(x,2).map(function(T,$){return(0,e.jsx)(Ge,{left:T!=null&&T[0]?{value:W(T==null?void 0:T[0],"value",n),label:K(T==null?void 0:T[0])}:void 0,right:T!=null&&T[1]?{value:W(T==null?void 0:T[1],"value",n),label:K(T==null?void 0:T[1])}:void 0},$)}),Z(n)]})})})]},a)})}),f.length===0&&(0,e.jsx)("div",{className:"mb-6",children:(0,e.jsx)(lt.Z,{})}),(0,e.jsx)(wt,{ref:S})]})}var $s=(0,je.Pi)(Us);function Hs(s){var p,r=s.trigger,o=(0,t.useIntl)(),j=(0,i.useState)(1),l=H()(j,2),b=l[0],I=l[1],u=(0,i.useState)(!1),v=H()(u,2),d=v[0],A=v[1],m=(0,i.useRef)(),f=(0,ye.mZ)(),S=f.ws,w=f.trade,L=S.quotes,N=S.symbols,M=w.positionList,X=w.pendingList,B=w.stopLossProfitList,R=w.activeSymbolName,Y=d?M==null?void 0:M.filter(function(P){return P.symbol===R}):M,Q=d?X==null?void 0:X.filter(function(P){return P.symbol===R}):X,E=d?B==null?void 0:B.filter(function(P){return P.symbol===R}):B,x=Y==null?void 0:Y.length,K=Q==null?void 0:Q.length,W=E==null?void 0:E.length;(0,i.useEffect)(function(){w.getPositionList(),w.getPendingList(),w.getStopLossProfitList()},[(p=w.currentAccountInfo)===null||p===void 0?void 0:p.id]);var Z=0,n=[{key:1,label:"".concat(o.formatMessage({id:"mt.chicang"}),"(").concat(x,")")},{key:2,label:"".concat(o.formatMessage({id:"mt.guadan"}),"(").concat(K,")")},{key:4,label:"".concat(o.formatMessage({id:"mt.zhiyingzhisun"}),"(").concat(W,")")},{key:3,label:o.formatMessage({id:"mt.lishichengjiao"})}],a={1:(0,e.jsx)(t.FormattedMessage,{id:"mt.chicang"}),2:(0,e.jsx)(t.FormattedMessage,{id:"mt.guadan"}),3:(0,e.jsx)(t.FormattedMessage,{id:"mt.lishichengjiao"}),4:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhiyingzhisun"})}[b],G=function(F){A(F.target.checked)},k=(0,i.useMemo)(function(){return(0,e.jsx)(et.Z,{items:n,tabBarExtraContent:(0,e.jsxs)("div",{className:"flex items-center mr-2",children:[d&&!!Z&&b===1&&(0,e.jsxs)("span",{className:"mr-5 text-sm text-gray-secondary",children:[(0,e.jsx)("span",{className:"pr-[5px]",children:R}),(0,e.jsx)(t.FormattedMessage,{id:"mt.fudongyingkui"}),(0,e.jsxs)("span",{className:q()("pl-2",Z>0?"text-green":"text-red"),children:[Z>0?"+"+(0,g.FH)(Z):(0,g.FH)(Z)," USD"]})]}),(0,e.jsx)(tt.Z,{onChange:G,className:"max-xl:hidden",children:(0,e.jsx)("span",{className:"text-gray text-xs",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.zhizhanshidangqian"})})})]}),onChange:function(F){I(F),F===1?w.getPositionList():F===2?w.getPendingList():F===4&&w.getStopLossProfitList()},tabBarGutter:46,tabBarStyle:{paddingLeft:27},size:"small"})},[x,K,W,d,Z,b]),ne=(0,i.useMemo)(function(){return(0,e.jsxs)("div",{className:"px-2 pb-1 mb-6 pt-1",children:[b===1&&(0,e.jsx)(Os,{parentPopup:m.current,showActiveSymbol:d}),b===2&&(0,e.jsx)(Ns,{parentPopup:m.current,showActiveSymbol:d}),b===4&&(0,e.jsx)($s,{parentPopup:m.current,showActiveSymbol:d}),b===3&&(0,e.jsx)(js,{showActiveSymbol:d})]})},[b,d,m.current]);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsxs)("div",{className:"pt-1 mb-3 bg-white border border-gray-180 relative z-[1]",children:[k,ne]}),wapComponent:(0,e.jsxs)(Oe.Z,{title:a,trigger:r,ref:m,position:"bottom",height:"80vh",children:[k,(0,e.jsx)("div",{className:"h-[70vh] overflow-y-auto pb-10",children:ne})]})}),(0,e.jsx)(Mt,{})]})}var It=(0,je.Pi)(Hs);function Vs(s){var p,r=(0,ye.mZ)(),o=r.ws,j=r.trade,l=o.depth,b=s||j.activeSymbolName,I=(p=j.getActiveSymbolInfo(b))===null||p===void 0?void 0:p.dataSourceSymbol,u=l[I]||{};return u}var Ys=Vs,Ws=U(9482);function Gs(){var s=(0,t.useIntl)(),p={name:"",value:10},r={12:s.formatMessage({id:"mt.wu"}),38:s.formatMessage({id:"mt.di"}),63:s.formatMessage({id:"mt.zhong"}),88:s.formatMessage({id:"mt.gao"})},o=[{x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#7BB2FF"},{offset:1,color:"#4186FF"}]},{x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#00D0BF"},{offset:1,color:"#05C399"}]},{x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#FFD18C"},{offset:1,color:"#FEAD5A"}]},{x:0,y:1,x2:0,y2:0,colorStops:[{offset:0,color:"#fc6b84"},{offset:1,color:"#e43c59"}]}],j={tooltip:{},series:[{type:"gauge",splitNumber:100,radius:"69%",startAngle:180,endAngle:0,min:0,max:100,center:["50%","65%"],pointer:{show:!0,width:7,length:"60%",borderColor:"#000",borderWidth:"10",itemStyle:{color:"auto"}},axisLine:{show:!0,lineStyle:{width:10,color:[[.25,o[0]],[.5,o[1]],[.75,o[2]],[1,o[3]]],borderColor:"#000",borderWidth:"10"}},axisLabel:{show:!0,color:"#666",distance:-44,fontSize:12,formatter:function(b){return r[b]}},axisTick:{show:0},splitLine:{show:0,lineStyle:{color:"#fff",width:2}},detail:{show:0},title:{show:!1},data:[p]}],grid:{containLabel:!0,top:"50%"}};return(0,e.jsx)(Ws.Z,{option:j,style:{width:120,height:120}})}function Ks(){return(0,e.jsx)("div",{className:"border-t border-gray-50",children:(0,e.jsx)("div",{className:"px-3",children:(0,e.jsxs)("div",{className:"flex items-center justify-between",children:[(0,e.jsxs)("div",{className:"flex flex-col relative -top-[10px]",children:[(0,e.jsxs)("div",{className:"flex items-center pb-2",children:[(0,e.jsxs)("span",{className:"text-xs text-gray font-semibold",children:["USDT",(0,e.jsx)(t.FormattedMessage,{id:"mt.quancang"})]}),(0,e.jsx)("span",{className:"text-xs text-gray-weak pl-2",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.weicangwei"})})]}),(0,e.jsxs)("div",{className:"flex items-center",children:[(0,e.jsxs)("span",{className:"text-gray-weak text-xs",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.baozhengjinlv"}),"\uFF1A"]}),(0,e.jsx)("span",{className:"text-green font-semibold text-xs",children:"78%"})]}),(0,e.jsxs)("div",{className:"flex items-center pt-1",children:[(0,e.jsxs)("span",{className:"text-gray-weak text-xs",children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.weichibaozhengjin"}),"\uFF1A"]}),(0,e.jsx)("span",{className:"text-green font-semibold text-xs",children:"1,172 USDT"})]})]}),(0,e.jsx)("div",{children:(0,e.jsx)(Gs,{})})]})})})}function Js(){for(var s=[],p=0;p<30;p++){var r=Math.floor(Math.random()*101);s.push(r)}return s}function Qs(){var s=(0,i.useState)("BUY_SELL"),p=H()(s,2),r=p[0],o=p[1],j=(0,i.useState)([]),l=H()(j,2),b=l[0],I=l[1],u=(0,i.useRef)(),v=Ys(),d=(v==null?void 0:v.asks)||[],A=(v==null?void 0:v.bids)||[],m=[{key:"BUY_SELL",icon:"pankou-maimai"},{key:"BUY",icon:"pankou-mai"},{key:"SELL",icon:"pankou-mai1"}],f=!1,S=f?512:600,w=r==="BUY_SELL";(0,i.useEffect)(function(){return u.current=setInterval(function(){I(Js())},800),function(){clearInterval(u.current)}},[]);var L=(0,He.l)(function(R){var Y=R.token;return{"&::after":{content:"''",background:"#EEEEEE",width:1,height:"100%",position:"absolute",left:0,top:0}}}),N=(0,e.jsx)("div",{className:"border-t border-b border-gray-60 py-2 px-3",children:(0,e.jsx)("div",{className:"flex items-center justify-between",children:(0,e.jsx)("div",{children:(0,e.jsx)("span",{className:"text-lg text-green font-dingpro-medium pr-[10px]",children:"46,604.1"})})})}),M=function(){return d.slice(0,w?11:20).filter(function(Y){return Y}).map(function(Y,Q){var E=Y.price*Y.amount,x=Y.price/E*100;return(0,e.jsxs)("div",{className:"relative overflow-hidden",style:{animation:"0.3s ease-out 0s 1 normal none running none"},children:[(0,e.jsxs)(it.Z,{className:"flex items-center h-6 px-3 relative z-[2]",children:[(0,e.jsx)(Ee.Z,{span:8,className:"text-xs text-green font-dingpro-regular text-left",children:(0,g.ao)(Y.price)}),(0,e.jsx)(Ee.Z,{span:8,className:"font-dingpro-regular text-xs text-gray text-left",children:(0,g.ao)(Y.amount)}),(0,e.jsx)(Ee.Z,{span:8,className:"font-dingpro-regular text-xs text-gray text-right",children:(0,g.ao)(E,{precision:2})})]}),(0,e.jsx)("div",{className:"absolute r-0 z-[1] w-full bg-[#D6FFF4] h-6 opacity-50 left-[100%] right-0 top-0",style:{transform:"translateX(-".concat(x>=100?100:x,"%)")}})]},Q)})},X=function(){return(0,e.jsxs)(e.Fragment,{children:[N,M()]})},B=function(){return(0,e.jsx)(e.Fragment,{children:A.slice(0,w?11:20).filter(function(Y){return Y}).map(function(Y,Q){var E=Y.price*Y.amount,x=Y.price/E*100;return(0,e.jsxs)("div",{className:"relative overflow-hidden",style:{animation:"0.3s ease-out 0s 1 normal none running none"},children:[(0,e.jsxs)(it.Z,{className:"flex items-center h-6 px-3 relative z-[2]",children:[(0,e.jsx)(Ee.Z,{span:8,className:"text-xs text-red font-dingpro-regular text-left",children:(0,g.ao)(Y.price)}),(0,e.jsx)(Ee.Z,{span:8,className:"font-dingpro-regular text-xs text-gray text-left",children:(0,g.ao)(Y.amount)}),(0,e.jsx)(Ee.Z,{span:8,className:"font-dingpro-regular text-xs text-gray text-right",children:(0,g.ao)(E,{precision:2})})]}),(0,e.jsx)("div",{className:"absolute r-0 z-[1] w-full bg-[#FFDDE2] h-6 opacity-50 left-[100%] right-0 top-0",style:{transform:"translateX(-".concat(x>=100?100:x,"%)")}})]},Q)})})};if(!(!d.length&&!A.length))return(0,e.jsxs)("div",{className:q()("w-[300px] h-[690px] overflow-hidden bg-white relative",L),children:[(0,e.jsxs)("div",{className:"flex items-center justify-between pl-3 pr-1 pt-[5px] pb-1 border-b border-gray-130",children:[(0,e.jsx)("div",{className:"flex items-center gap-x-4",children:m.map(function(R,Y){return(0,e.jsx)(Lt.Z,{name:R.icon,width:24,height:24,className:q()("cursor-pointer",R.key===r?"opacity-100":"opacity-30"),onClick:function(){o(R.key)}},Y)})}),(0,e.jsx)("div",{children:(0,e.jsx)(gt.Z,{fieldProps:{size:"small",defaultValue:"0.1",style:{minWidth:60},suffixIcon:(0,e.jsx)("img",{src:"/img/down2.png",width:14,height:14})},allowClear:!1,options:[{label:"0.01",value:"0.01"},{label:"0.1",value:"0.1"},{label:"1",value:"1"},{label:"10",value:"10"},{label:"50",value:"50"}]})})]}),(0,e.jsxs)("div",{className:"py-3",children:[(0,e.jsxs)(it.Z,{className:"pb-2 px-3",children:[(0,e.jsx)(Ee.Z,{span:8,children:(0,e.jsx)(t.FormattedMessage,{id:"mt.jiage"})}),(0,e.jsxs)(Ee.Z,{span:8,children:[(0,e.jsx)(t.FormattedMessage,{id:"mt.shuliang"}),"(BTC)"]}),(0,e.jsx)(Ee.Z,{span:8,className:"text-right",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.chengjiaoe"})})]}),(0,e.jsxs)("div",{className:"overflow-y-auto",style:{height:S},children:[r==="BUY_SELL"&&(0,e.jsxs)(e.Fragment,{children:[B(),X()]}),r==="BUY"&&(0,e.jsxs)("div",{children:[N,(0,e.jsx)("div",{className:"overflow-y-auto h-[600px]",children:M()})]}),r==="SELL"&&B()]}),(0,e.jsx)("div",{children:(0,e.jsx)(Ks,{})})]})]})}var Xs=(0,je.Pi)(Qs),qs=U(73360);function _s(){var s=(0,ke.k)(),p=s.isMobileOrIpad,r=(0,i.useState)(!0),o=H()(r,2),j=o[0],l=o[1],b=(0,i.useState)("0.01"),I=H()(b,2),u=I[0],v=I[1],d=(0,i.useState)(400),A=H()(d,2),m=A[0],f=A[1],S=(0,i.useState)(260),w=H()(S,2),L=w[0],N=w[1],M=(0,i.useRef)({x:0,y:0}),X=(0,i.useRef)(!1),B=(0,at.WZ)(),R=(0,ye.mZ)(),Y=R.trade,Q=(0,De.Z)(),E=function(a){var G,k;a.preventDefault(),X.current=!0,M.current={x:(a==null?void 0:a.clientX)||(a==null||(G=a.touches)===null||G===void 0||(G=G[0])===null||G===void 0?void 0:G.clientX),y:(a==null?void 0:a.clientY)||(a==null||(k=a.touches)===null||k===void 0||(k=k[0])===null||k===void 0?void 0:k.clientY)},document.addEventListener("mousemove",x),document.addEventListener("touchmove",x),document.addEventListener("mouseup",K),document.addEventListener("touchend",K)},x=function(a){var G,k;if(X.current){var ne={x:(a==null?void 0:a.clientX)||((G=a.touches)===null||G===void 0||(G=G[0])===null||G===void 0?void 0:G.clientX),y:(a==null?void 0:a.clientY)||((k=a.touches)===null||k===void 0||(k=k[0])===null||k===void 0?void 0:k.clientY)},P=ne.x-M.current.x,F=ne.y-M.current.y;f(function(T){var $=window.innerWidth-300,ae=isNaN(T)?$:T-P,h=300;return ae<h?h:ae>$?$:ae}),N(function(T){var $=window.innerHeight-100,ae=isNaN(T)?$:T+F,h=150;return ae<h?h:ae>$?$:ae}),M.current=ne}},K=function n(){X.current=!1,document.removeEventListener("mousemove",x),document.removeEventListener("touchmove",x),document.removeEventListener("mouseup",n),document.removeEventListener("touchend",n)};(0,i.useEffect)(function(){return function(){document.removeEventListener("mousemove",x),document.removeEventListener("touchmove",x),document.removeEventListener("mouseup",K),document.removeEventListener("touchend",K)}},[]);var W=(0,He.l)(function(n){var a=n.token;return{position:"absolute",transform:"translateY(-45%)",zIndex:99,input:{border:"none !important",boxShadow:"none !important",textAlign:"center !important",padding:"0 !important"},".ant-input-number":{border:"none !important",boxShadow:"none !important"}}});if(!(!j||p)){var Z=function(){var n=ze()(be()().mark(function a(G){var k,ne,P,F;return be()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(B){$.next=2;break}return $.abrupt("return",(0,qe.ni)());case 2:return ne=G===re.Y0.BUY,P={symbol:Q.symbol,buySell:ne?re.Y0.BUY:re.Y0.SELL,orderVolume:u,tradeAccountId:(k=Y.currentAccountInfo)===null||k===void 0?void 0:k.id,marginType:Y.marginType,type:re.Jm.MARKET_ORDER},console.log("\u53C2\u6570",P),$.next=7,Y.createOrder(P);case 7:if(F=$.sent,F.success){$.next=10;break}return $.abrupt("return");case 10:v("0.01");case 11:case"end":return $.stop()}},a)}));return function(G){return n.apply(this,arguments)}}();return(0,e.jsx)("div",{className:q()("border border-gray-185 rounded-lg bg-white fixed",W),style:{right:m,top:L},children:(0,e.jsxs)("div",{className:"flex flex-col",children:[(0,e.jsxs)("div",{className:"flex items-center justify-between border-b border-gray-185",children:[(0,e.jsx)("div",{className:"px-[2px] py-3 cursor-move",onMouseDown:E,onTouchStart:E,children:(0,e.jsx)("div",{className:"bg-[url(/img/handle-drop.png)] bg-[size:14px_28px] bg-no-repeat w-[14px] h-[28px]"})}),(0,e.jsxs)("div",{className:"bg-red flex flex-col h-[56px] px-3 items-center justify-center cursor-pointer",onClick:function(){Z("SELL")},children:[(0,e.jsx)("div",{className:"select-none text-white text-xs",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.maichuzuokong"})}),(0,e.jsx)("div",{className:"text-white font-dingpro-medium text-base select-none",children:(0,g.ao)(Q.bid)})]}),(0,e.jsxs)("div",{className:"flex flex-col h-[56px] px-3 items-center justify-center w-[105px]",children:[(0,e.jsx)("div",{className:"text-gray text-xs select-none",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.shoushu"})}),(0,e.jsx)(qs.Z,{min:"0.01",controls:!1,max:"10000",value:u,onChange:function(a){v(a)}})]}),(0,e.jsxs)("div",{className:"bg-green h-[56px] px-3 flex flex-col  items-center justify-center cursor-pointer",onClick:function(){Z("BUY")},children:[(0,e.jsx)("div",{className:"select-none text-white text-xs",children:(0,e.jsx)(t.FormattedMessage,{id:"mt.mairuzuoduo"})}),(0,e.jsx)("div",{className:"text-white font-dingpro-medium text-base select-none",children:(0,g.ao)(Q.ask)})]}),(0,e.jsx)("div",{className:"px-[2px] cursor-pointer",onClick:function(){return l(!1)},children:(0,e.jsx)("img",{width:"14",height:"28",src:"/img/close.png"})})]}),(0,e.jsx)("div",{className:"flex items-center justify-center gap-x-[6px] py-1 mt-[2px]",children:["0.01","0.1","0.5","1.0"].map(function(n,a){return(0,e.jsx)("span",{className:"text-gray text-xs px-[6px] py-[1px] bg-gray-50 rounded cursor-pointer",onClick:function(){v(n)},children:n},a)})})]})})}}var ea=(0,je.Pi)(_s),ta=(0,je.Pi)(function(){var s=(0,i.useRef)(),p=(0,i.useRef)(null),r=(0,ye.mZ)(),o=r.ws,j=r.trade;return(0,i.useEffect)(function(){return function(){o.subscribeDepth(!0)}},[]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(Le.Z,{pcComponent:(0,e.jsxs)("div",{className:"mb-8",children:[(0,e.jsxs)("div",{className:"flex",children:[(0,e.jsx)(mt.Z,{}),(0,e.jsx)(ds,{}),(0,e.jsx)(Xs,{}),(0,e.jsx)(bt,{})]}),(0,e.jsx)(It,{}),(0,e.jsx)(xs,{}),(0,e.jsx)(ea,{})]}),wapComponent:(0,e.jsxs)("div",{className:"min-h-[100vh] bg-white",children:[(0,e.jsx)(Ft,{sidebarRef:s}),(0,e.jsx)(Ct,{}),(0,e.jsxs)("div",{className:"fixed bottom-0 left-0 flex w-full items-center justify-center rounded-t-xl bg-white",style:{boxShadow:"0px -2px 20px 0px rgba(182,182,182,0.2)"},children:[(0,e.jsx)("div",{className:"relative flex flex-1 items-center justify-center py-2",children:(0,e.jsx)(nt,{onBuy:function(){p.current.show(1)},onSell:function(){p.current.show(2)},type:"footer",sellBgColor:"var(--color-red-600)"})}),(0,e.jsx)(It,{trigger:(0,e.jsx)("div",{className:"mr-[15px] flex h-[46px] w-[46px] items-center justify-center rounded-xl border border-primary px-2",children:(0,e.jsx)("img",{src:"/img/record-icon.png",width:32,height:32,alt:""})})})]}),(0,e.jsx)(mt.Z,{ref:s}),(0,e.jsx)(bt,{ref:p})]})}),(0,e.jsx)(ps,{})]})})}}]);
